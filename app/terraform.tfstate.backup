{
  "version": 4,
  "terraform_version": "1.6.5",
  "serial": 1426,
  "lineage": "33ac96c2-4c93-bf94-c1c0-fa5b9b5620ce",
  "outputs": {
    "aws_codecommit_repository": {
      "value": "https://git-codecommit.us-east-1.amazonaws.com/v1/repos/ecs_repo",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2545804168",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sns:Publish\",\n        \"sns:ListTopics\",\n        \"s3:*\",\n        \"opsworks:DescribeStacks\",\n        \"opsworks:DescribeLayers\",\n        \"opsworks:DescribeApps\",\n        \"logs:*\",\n        \"lambda:ListFunctions\",\n        \"lambda:InvokeFunction\",\n        \"iam:ListRoles\",\n        \"iam:GetRole\",\n        \"events:*\",\n        \"elasticloadbalancing:*\",\n        \"elasticfilesystem:DescribeFileSystems\",\n        \"ecs:*\",\n        \"ecr:*\",\n        \"ec2:*\",\n        \"codepipeline:*\",\n        \"codedeploy:*\",\n        \"codecommit:*\",\n        \"codebuild:*\",\n        \"cloudwatch:*\",\n        \"cloudtrail:DescribeTrails\",\n        \"cloudformation:ListStacks\",\n        \"cloudformation:ListChangeSets\",\n        \"cloudformation:DescribeStacks\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"sns:Publish\",\"sns:ListTopics\",\"s3:*\",\"opsworks:DescribeStacks\",\"opsworks:DescribeLayers\",\"opsworks:DescribeApps\",\"logs:*\",\"lambda:ListFunctions\",\"lambda:InvokeFunction\",\"iam:ListRoles\",\"iam:GetRole\",\"events:*\",\"elasticloadbalancing:*\",\"elasticfilesystem:DescribeFileSystems\",\"ecs:*\",\"ecr:*\",\"ec2:*\",\"codepipeline:*\",\"codedeploy:*\",\"codecommit:*\",\"codebuild:*\",\"cloudwatch:*\",\"cloudtrail:DescribeTrails\",\"cloudformation:ListStacks\",\"cloudformation:ListChangeSets\",\"cloudformation:DescribeStacks\"],\"Resource\":\"*\"}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "cloudformation:DescribeStacks",
                  "cloudformation:ListChangeSets",
                  "cloudformation:ListStacks",
                  "cloudtrail:DescribeTrails",
                  "cloudwatch:*",
                  "codebuild:*",
                  "codecommit:*",
                  "codedeploy:*",
                  "codepipeline:*",
                  "ec2:*",
                  "ecr:*",
                  "ecs:*",
                  "elasticfilesystem:DescribeFileSystems",
                  "elasticloadbalancing:*",
                  "events:*",
                  "iam:GetRole",
                  "iam:ListRoles",
                  "lambda:InvokeFunction",
                  "lambda:ListFunctions",
                  "logs:*",
                  "opsworks:DescribeApps",
                  "opsworks:DescribeLayers",
                  "opsworks:DescribeStacks",
                  "s3:*",
                  "sns:ListTopics",
                  "sns:Publish"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "bookingapp-home",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "60fb39129cb5721bfbcb06803c16c572e10a584b96d03344bfc527db219b6345",
            "rendered": "[\r\n  {\r\n    \"name\": \"home\",\r\n    \"image\": \"339712838104.dkr.ecr.us-east-1.amazonaws.com/bookingapp-home:latest\",\r\n    \"cpu\": 1,\r\n    \"memoryReservation\": 256,\r\n    \"portMappings\": [\r\n      {\r\n        \"containerPort\": 5000,\r\n        \"hostPort\": 5000,\r\n        \"protocol\": \"tcp\",\r\n        \"appProtocol\": \"http\"\r\n      }\r\n    ],\r\n    \"logConfiguration\": {\r\n      \"logDriver\": \"awslogs\",\r\n      \"secretOptions\": null,\r\n      \"options\": {\r\n        \"awslogs-group\": \"service_bookingapp-home_log_group\",\r\n        \"awslogs-region\": \"us-east-1\",\r\n        \"awslogs-stream-prefix\": \"ecs\"\r\n      }\r\n    },\r\n    \"dependsOn\": [\r\n      {\r\n        \"containerName\": \"envoy\",\r\n        \"condition\": \"HEALTHY\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"name\": \"envoy\",\r\n    \"image\": \"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\r\n    \"user\": \"1337\",\r\n    \"essential\": true,\r\n    \"cpu\": 64,\r\n    \"memoryReservation\": 256,\r\n    \"ulimits\": [\r\n      {\r\n        \"name\": \"nofile\",\r\n        \"hardLimit\": 15000,\r\n        \"softLimit\": 15000\r\n      }\r\n    ],\r\n    \"portMappings\": [\r\n      {\r\n        \"containerPort\": 9901,\r\n        \"hostPort\": 9901,\r\n        \"protocol\": \"tcp\"\r\n      },\r\n      {\r\n        \"containerPort\": 15000,\r\n        \"hostPort\": 15000,\r\n        \"protocol\": \"tcp\"\r\n      },\r\n      {\r\n        \"containerPort\": 15001,\r\n        \"hostPort\": 15001,\r\n        \"protocol\": \"tcp\"\r\n      }\r\n    ],\r\n    \"environment\": [\r\n      {\r\n        \"name\": \"APPMESH_VIRTUAL_NODE_NAME\",\r\n        \"value\": \"mesh/bookingapp-mess/virtualNode/home-vnode\"\r\n      },\r\n      {\r\n        \"name\": \"ENVOY_LOG_LEVEL\",\r\n        \"value\": \"info\"\r\n      },\r\n      {\r\n        \"name\": \"APPMESH_XDS_ENDPOINT\",\r\n        \"value\": \"\"\r\n      },\r\n      {\r\n        \"name\": \"ENABLE_ENVOY_XRAY_TRACING\",\r\n        \"value\": \"1\"\r\n      },\r\n      {\r\n        \"name\": \"ENABLE_ENVOY_STATS_TAGS\",\r\n        \"value\": \"1\"\r\n      }\r\n    ],\r\n    \"logConfiguration\": {\r\n      \"logDriver\": \"awslogs\",\r\n      \"options\": {\r\n        \"awslogs-group\": \"service_bookingapp-home_log_group\",\r\n        \"awslogs-region\": \"us-east-1\",\r\n        \"awslogs-stream-prefix\": \"envoy\"\r\n      }\r\n    },\r\n    \"healthCheck\": {\r\n      \"command\": [\r\n        \"CMD-SHELL\",\r\n        \"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"\r\n      ],\r\n      \"interval\": 5,\r\n      \"timeout\": 2,\r\n      \"retries\": 3\r\n    }\r\n  },\r\n  {\r\n    \"name\": \"xray-daemon\",\r\n    \"image\": \"amazon/aws-xray-daemon\",\r\n    \"user\": \"1337\",\r\n    \"essential\": true,\r\n    \"cpu\": 1,\r\n    \"memoryReservation\": 256,\r\n    \"portMappings\": [\r\n      {\r\n        \"hostPort\": 2000,\r\n        \"containerPort\": 2000,\r\n        \"protocol\": \"udp\"\r\n      }\r\n    ],\r\n    \"logConfiguration\": {\r\n      \"logDriver\": \"awslogs\",\r\n      \"options\": {\r\n        \"awslogs-group\": \"service_bookingapp-home_log_group\",\r\n        \"awslogs-region\": \"us-east-1\",\r\n        \"awslogs-stream-prefix\": \"xray\"\r\n      }\r\n    }\r\n  }\r\n]\r\n",
            "template": "[\r\n  {\r\n    \"name\": \"${service_ecs_container_name}\",\r\n    \"image\": \"${service_image}\",\r\n    \"cpu\": 1,\r\n    \"memoryReservation\": 256,\r\n    \"portMappings\": [\r\n      {\r\n        \"containerPort\": 5000,\r\n        \"hostPort\": 5000,\r\n        \"protocol\": \"tcp\",\r\n        \"appProtocol\": \"http\"\r\n      }\r\n    ],\r\n    \"logConfiguration\": {\r\n      \"logDriver\": \"awslogs\",\r\n      \"secretOptions\": null,\r\n      \"options\": {\r\n        \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n        \"awslogs-region\": \"${service_region_name}\",\r\n        \"awslogs-stream-prefix\": \"ecs\"\r\n      }\r\n    },\r\n    \"dependsOn\": [\r\n      {\r\n        \"containerName\": \"envoy\",\r\n        \"condition\": \"HEALTHY\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"name\": \"envoy\",\r\n    \"image\": \"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\r\n    \"user\": \"1337\",\r\n    \"essential\": true,\r\n    \"cpu\": 64,\r\n    \"memoryReservation\": 256,\r\n    \"ulimits\": [\r\n      {\r\n        \"name\": \"nofile\",\r\n        \"hardLimit\": 15000,\r\n        \"softLimit\": 15000\r\n      }\r\n    ],\r\n    \"portMappings\": [\r\n      {\r\n        \"containerPort\": 9901,\r\n        \"hostPort\": 9901,\r\n        \"protocol\": \"tcp\"\r\n      },\r\n      {\r\n        \"containerPort\": 15000,\r\n        \"hostPort\": 15000,\r\n        \"protocol\": \"tcp\"\r\n      },\r\n      {\r\n        \"containerPort\": 15001,\r\n        \"hostPort\": 15001,\r\n        \"protocol\": \"tcp\"\r\n      }\r\n    ],\r\n    \"environment\": [\r\n      {\r\n        \"name\": \"APPMESH_VIRTUAL_NODE_NAME\",\r\n        \"value\": \"${appmesh_virtual_node_name}\"\r\n      },\r\n      {\r\n        \"name\": \"ENVOY_LOG_LEVEL\",\r\n        \"value\": \"info\"\r\n      },\r\n      {\r\n        \"name\": \"APPMESH_XDS_ENDPOINT\",\r\n        \"value\": \"\"\r\n      },\r\n      {\r\n        \"name\": \"ENABLE_ENVOY_XRAY_TRACING\",\r\n        \"value\": \"1\"\r\n      },\r\n      {\r\n        \"name\": \"ENABLE_ENVOY_STATS_TAGS\",\r\n        \"value\": \"1\"\r\n      }\r\n    ],\r\n    \"logConfiguration\": {\r\n      \"logDriver\": \"awslogs\",\r\n      \"options\": {\r\n        \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n        \"awslogs-region\": \"${service_region_name}\",\r\n        \"awslogs-stream-prefix\": \"envoy\"\r\n      }\r\n    },\r\n    \"healthCheck\": {\r\n      \"command\": [\r\n        \"CMD-SHELL\",\r\n        \"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"\r\n      ],\r\n      \"interval\": 5,\r\n      \"timeout\": 2,\r\n      \"retries\": 3\r\n    }\r\n  },\r\n  {\r\n    \"name\": \"xray-daemon\",\r\n    \"image\": \"amazon/aws-xray-daemon\",\r\n    \"user\": \"1337\",\r\n    \"essential\": true,\r\n    \"cpu\": 1,\r\n    \"memoryReservation\": 256,\r\n    \"portMappings\": [\r\n      {\r\n        \"hostPort\": 2000,\r\n        \"containerPort\": 2000,\r\n        \"protocol\": \"udp\"\r\n      }\r\n    ],\r\n    \"logConfiguration\": {\r\n      \"logDriver\": \"awslogs\",\r\n      \"options\": {\r\n        \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n        \"awslogs-region\": \"${service_region_name}\",\r\n        \"awslogs-stream-prefix\": \"xray\"\r\n      }\r\n    }\r\n  }\r\n]\r\n",
            "vars": {
              "appmesh_virtual_node_name": "mesh/bookingapp-mess/virtualNode/home-vnode",
              "service_ecs_container_name": "home",
              "service_ecstask_log_group_name": "service_bookingapp-home_log_group",
              "service_image": "339712838104.dkr.ecr.us-east-1.amazonaws.com/bookingapp-home:latest",
              "service_region_name": "us-east-1"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "bookingapp-movie",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "c044451c4ca73a31149790665c625c49373c697958b82eed1dadd2133b77aaa5",
            "rendered": "[\r\n    {\r\n      \"name\": \"movie\",\r\n      \"image\": \"339712838104.dkr.ecr.us-east-1.amazonaws.com/bookingapp-movie:latest\",\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 5000,\r\n          \"hostPort\": 5000,\r\n          \"protocol\": \"tcp\",\r\n          \"appProtocol\": \"http\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"secretOptions\": null,\r\n        \"options\": {\r\n          \"awslogs-group\": \"service_bookingapp-movie_log_group\",\r\n          \"awslogs-region\": \"us-east-1\",\r\n          \"awslogs-stream-prefix\": \"ecs\"\r\n        }\r\n      },\r\n      \"dependsOn\": [\r\n        {\r\n          \"containerName\": \"envoy\",\r\n          \"condition\": \"HEALTHY\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"name\": \"envoy\",\r\n      \"image\": \"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"ulimits\": [\r\n        {\r\n          \"name\": \"nofile\",\r\n          \"hardLimit\": 15000,\r\n          \"softLimit\": 15000\r\n        }\r\n      ],\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 9901,\r\n          \"hostPort\": 9901,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15000,\r\n          \"hostPort\": 15000,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15001,\r\n          \"hostPort\": 15001,\r\n          \"protocol\": \"tcp\"\r\n        }\r\n      ],\r\n      \"environment\": [\r\n        {\r\n          \"name\": \"APPMESH_VIRTUAL_NODE_NAME\",\r\n          \"value\": \"mesh/bookingapp-mess/virtualNode/movie-vnode\"\r\n        },\r\n        {\r\n          \"name\": \"ENVOY_LOG_LEVEL\",\r\n          \"value\": \"info\"\r\n        },\r\n        {\r\n          \"name\": \"APPMESH_XDS_ENDPOINT\",\r\n          \"value\": \"\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_XRAY_TRACING\",\r\n          \"value\": \"1\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_STATS_TAGS\",\r\n          \"value\": \"1\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"service_bookingapp-movie_log_group\",\r\n          \"awslogs-region\": \"us-east-1\",\r\n          \"awslogs-stream-prefix\": \"envoy\"\r\n        }\r\n      },\r\n      \"healthCheck\": {\r\n        \"command\": [\r\n          \"CMD-SHELL\",\r\n          \"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"\r\n        ],\r\n        \"interval\": 5,\r\n        \"timeout\": 2,\r\n        \"retries\": 3\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"xray-daemon\",\r\n      \"image\": \"amazon/aws-xray-daemon\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"hostPort\": 2000,\r\n          \"containerPort\": 2000,\r\n          \"protocol\": \"udp\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"service_bookingapp-movie_log_group\",\r\n          \"awslogs-region\": \"us-east-1\",\r\n          \"awslogs-stream-prefix\": \"xray\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n  ",
            "template": "[\r\n    {\r\n      \"name\": \"${service_ecs_container_name}\",\r\n      \"image\": \"${service_image}\",\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 5000,\r\n          \"hostPort\": 5000,\r\n          \"protocol\": \"tcp\",\r\n          \"appProtocol\": \"http\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"secretOptions\": null,\r\n        \"options\": {\r\n          \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n          \"awslogs-region\": \"${service_region_name}\",\r\n          \"awslogs-stream-prefix\": \"ecs\"\r\n        }\r\n      },\r\n      \"dependsOn\": [\r\n        {\r\n          \"containerName\": \"envoy\",\r\n          \"condition\": \"HEALTHY\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"name\": \"envoy\",\r\n      \"image\": \"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"ulimits\": [\r\n        {\r\n          \"name\": \"nofile\",\r\n          \"hardLimit\": 15000,\r\n          \"softLimit\": 15000\r\n        }\r\n      ],\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 9901,\r\n          \"hostPort\": 9901,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15000,\r\n          \"hostPort\": 15000,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15001,\r\n          \"hostPort\": 15001,\r\n          \"protocol\": \"tcp\"\r\n        }\r\n      ],\r\n      \"environment\": [\r\n        {\r\n          \"name\": \"APPMESH_VIRTUAL_NODE_NAME\",\r\n          \"value\": \"${appmesh_virtual_node_name}\"\r\n        },\r\n        {\r\n          \"name\": \"ENVOY_LOG_LEVEL\",\r\n          \"value\": \"info\"\r\n        },\r\n        {\r\n          \"name\": \"APPMESH_XDS_ENDPOINT\",\r\n          \"value\": \"\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_XRAY_TRACING\",\r\n          \"value\": \"1\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_STATS_TAGS\",\r\n          \"value\": \"1\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n          \"awslogs-region\": \"${service_region_name}\",\r\n          \"awslogs-stream-prefix\": \"envoy\"\r\n        }\r\n      },\r\n      \"healthCheck\": {\r\n        \"command\": [\r\n          \"CMD-SHELL\",\r\n          \"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"\r\n        ],\r\n        \"interval\": 5,\r\n        \"timeout\": 2,\r\n        \"retries\": 3\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"xray-daemon\",\r\n      \"image\": \"amazon/aws-xray-daemon\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"hostPort\": 2000,\r\n          \"containerPort\": 2000,\r\n          \"protocol\": \"udp\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n          \"awslogs-region\": \"${service_region_name}\",\r\n          \"awslogs-stream-prefix\": \"xray\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n  ",
            "vars": {
              "appmesh_virtual_node_name": "mesh/bookingapp-mess/virtualNode/movie-vnode",
              "service_ecs_container_name": "movie",
              "service_ecstask_log_group_name": "service_bookingapp-movie_log_group",
              "service_image": "339712838104.dkr.ecr.us-east-1.amazonaws.com/bookingapp-movie:latest",
              "service_region_name": "us-east-1"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "bookingapp-movie2",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "b228ad5ce2a2cca8318787f022db15984f634117489ee5564029a33f72d12068",
            "rendered": "[\r\n    {\r\n      \"name\": \"movie2\",\r\n      \"image\": \"339712838104.dkr.ecr.us-east-1.amazonaws.com/bookingapp-movie2:latest\",\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 5000,\r\n          \"hostPort\": 5000,\r\n          \"protocol\": \"tcp\",\r\n          \"appProtocol\": \"http\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"secretOptions\": null,\r\n        \"options\": {\r\n          \"awslogs-group\": \"service_bookingapp-movie2_log_group\",\r\n          \"awslogs-region\": \"us-east-1\",\r\n          \"awslogs-stream-prefix\": \"ecs\"\r\n        }\r\n      },\r\n      \"dependsOn\": [\r\n        {\r\n          \"containerName\": \"envoy\",\r\n          \"condition\": \"HEALTHY\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"name\": \"envoy\",\r\n      \"image\": \"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"ulimits\": [\r\n        {\r\n          \"name\": \"nofile\",\r\n          \"hardLimit\": 15000,\r\n          \"softLimit\": 15000\r\n        }\r\n      ],\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 9901,\r\n          \"hostPort\": 9901,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15000,\r\n          \"hostPort\": 15000,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15001,\r\n          \"hostPort\": 15001,\r\n          \"protocol\": \"tcp\"\r\n        }\r\n      ],\r\n      \"environment\": [\r\n        {\r\n          \"name\": \"APPMESH_VIRTUAL_NODE_NAME\",\r\n          \"value\": \"mesh/bookingapp-mess/virtualNode/movie2-vnode\"\r\n        },\r\n        {\r\n          \"name\": \"ENVOY_LOG_LEVEL\",\r\n          \"value\": \"info\"\r\n        },\r\n        {\r\n          \"name\": \"APPMESH_XDS_ENDPOINT\",\r\n          \"value\": \"\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_XRAY_TRACING\",\r\n          \"value\": \"1\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_STATS_TAGS\",\r\n          \"value\": \"1\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"service_bookingapp-movie2_log_group\",\r\n          \"awslogs-region\": \"us-east-1\",\r\n          \"awslogs-stream-prefix\": \"envoy\"\r\n        }\r\n      },\r\n      \"healthCheck\": {\r\n        \"command\": [\r\n          \"CMD-SHELL\",\r\n          \"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"\r\n        ],\r\n        \"interval\": 5,\r\n        \"timeout\": 2,\r\n        \"retries\": 3\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"xray-daemon\",\r\n      \"image\": \"amazon/aws-xray-daemon\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"hostPort\": 2000,\r\n          \"containerPort\": 2000,\r\n          \"protocol\": \"udp\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"service_bookingapp-movie2_log_group\",\r\n          \"awslogs-region\": \"us-east-1\",\r\n          \"awslogs-stream-prefix\": \"xray\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n  ",
            "template": "[\r\n    {\r\n      \"name\": \"${service_ecs_container_name}\",\r\n      \"image\": \"${service_image}\",\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 5000,\r\n          \"hostPort\": 5000,\r\n          \"protocol\": \"tcp\",\r\n          \"appProtocol\": \"http\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"secretOptions\": null,\r\n        \"options\": {\r\n          \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n          \"awslogs-region\": \"${service_region_name}\",\r\n          \"awslogs-stream-prefix\": \"ecs\"\r\n        }\r\n      },\r\n      \"dependsOn\": [\r\n        {\r\n          \"containerName\": \"envoy\",\r\n          \"condition\": \"HEALTHY\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"name\": \"envoy\",\r\n      \"image\": \"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"ulimits\": [\r\n        {\r\n          \"name\": \"nofile\",\r\n          \"hardLimit\": 15000,\r\n          \"softLimit\": 15000\r\n        }\r\n      ],\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 9901,\r\n          \"hostPort\": 9901,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15000,\r\n          \"hostPort\": 15000,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15001,\r\n          \"hostPort\": 15001,\r\n          \"protocol\": \"tcp\"\r\n        }\r\n      ],\r\n      \"environment\": [\r\n        {\r\n          \"name\": \"APPMESH_VIRTUAL_NODE_NAME\",\r\n          \"value\": \"${appmesh_virtual_node_name}\"\r\n        },\r\n        {\r\n          \"name\": \"ENVOY_LOG_LEVEL\",\r\n          \"value\": \"info\"\r\n        },\r\n        {\r\n          \"name\": \"APPMESH_XDS_ENDPOINT\",\r\n          \"value\": \"\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_XRAY_TRACING\",\r\n          \"value\": \"1\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_STATS_TAGS\",\r\n          \"value\": \"1\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n          \"awslogs-region\": \"${service_region_name}\",\r\n          \"awslogs-stream-prefix\": \"envoy\"\r\n        }\r\n      },\r\n      \"healthCheck\": {\r\n        \"command\": [\r\n          \"CMD-SHELL\",\r\n          \"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"\r\n        ],\r\n        \"interval\": 5,\r\n        \"timeout\": 2,\r\n        \"retries\": 3\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"xray-daemon\",\r\n      \"image\": \"amazon/aws-xray-daemon\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"hostPort\": 2000,\r\n          \"containerPort\": 2000,\r\n          \"protocol\": \"udp\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n          \"awslogs-region\": \"${service_region_name}\",\r\n          \"awslogs-stream-prefix\": \"xray\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n  ",
            "vars": {
              "appmesh_virtual_node_name": "mesh/bookingapp-mess/virtualNode/movie2-vnode",
              "service_ecs_container_name": "movie2",
              "service_ecstask_log_group_name": "service_bookingapp-movie2_log_group",
              "service_image": "339712838104.dkr.ecr.us-east-1.amazonaws.com/bookingapp-movie2:latest",
              "service_region_name": "us-east-1"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "bookingapp-redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "9d2c453e04ad6e0e47a314318330e50472b358be33c9b2243620d6d4344e1793",
            "rendered": "[\r\n    {\r\n      \"name\": \"redis\",\r\n      \"image\": \"339712838104.dkr.ecr.us-east-1.amazonaws.com/redis-alpine:latest\",\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 6379,\r\n          \"hostPort\": 6379,\r\n          \"protocol\": \"tcp\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"secretOptions\": null,\r\n        \"options\": {\r\n          \"awslogs-group\": \"service_bookingapp-redis_log_group\",\r\n          \"awslogs-region\": \"us-east-1\",\r\n          \"awslogs-stream-prefix\": \"ecs\"\r\n        }\r\n      },\r\n      \"dependsOn\": [\r\n        {\r\n          \"containerName\": \"envoy\",\r\n          \"condition\": \"HEALTHY\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"name\": \"envoy\",\r\n      \"image\": \"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"ulimits\": [\r\n        {\r\n          \"name\": \"nofile\",\r\n          \"hardLimit\": 15000,\r\n          \"softLimit\": 15000\r\n        }\r\n      ],\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 9901,\r\n          \"hostPort\": 9901,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15000,\r\n          \"hostPort\": 15000,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15001,\r\n          \"hostPort\": 15001,\r\n          \"protocol\": \"tcp\"\r\n        }\r\n      ],\r\n      \"environment\": [\r\n        {\r\n          \"name\": \"APPMESH_VIRTUAL_NODE_NAME\",\r\n          \"value\": \"mesh/bookingapp-mess/virtualNode/redis-vnode\"\r\n        },\r\n        {\r\n          \"name\": \"ENVOY_LOG_LEVEL\",\r\n          \"value\": \"info\"\r\n        },\r\n        {\r\n          \"name\": \"APPMESH_XDS_ENDPOINT\",\r\n          \"value\": \"\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_XRAY_TRACING\",\r\n          \"value\": \"1\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_STATS_TAGS\",\r\n          \"value\": \"1\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"service_bookingapp-redis_log_group\",\r\n          \"awslogs-region\": \"us-east-1\",\r\n          \"awslogs-stream-prefix\": \"envoy\"\r\n        }\r\n      },\r\n      \"healthCheck\": {\r\n        \"command\": [\r\n          \"CMD-SHELL\",\r\n          \"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"\r\n        ],\r\n        \"interval\": 5,\r\n        \"timeout\": 2,\r\n        \"retries\": 3\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"xray-daemon\",\r\n      \"image\": \"amazon/aws-xray-daemon\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"hostPort\": 2000,\r\n          \"containerPort\": 2000,\r\n          \"protocol\": \"udp\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"service_bookingapp-redis_log_group\",\r\n          \"awslogs-region\": \"us-east-1\",\r\n          \"awslogs-stream-prefix\": \"xray\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n  ",
            "template": "[\r\n    {\r\n      \"name\": \"${service_ecs_container_name}\",\r\n      \"image\": \"${service_image}\",\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 6379,\r\n          \"hostPort\": 6379,\r\n          \"protocol\": \"tcp\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"secretOptions\": null,\r\n        \"options\": {\r\n          \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n          \"awslogs-region\": \"${service_region_name}\",\r\n          \"awslogs-stream-prefix\": \"ecs\"\r\n        }\r\n      },\r\n      \"dependsOn\": [\r\n        {\r\n          \"containerName\": \"envoy\",\r\n          \"condition\": \"HEALTHY\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"name\": \"envoy\",\r\n      \"image\": \"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"ulimits\": [\r\n        {\r\n          \"name\": \"nofile\",\r\n          \"hardLimit\": 15000,\r\n          \"softLimit\": 15000\r\n        }\r\n      ],\r\n      \"portMappings\": [\r\n        {\r\n          \"containerPort\": 9901,\r\n          \"hostPort\": 9901,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15000,\r\n          \"hostPort\": 15000,\r\n          \"protocol\": \"tcp\"\r\n        },\r\n        {\r\n          \"containerPort\": 15001,\r\n          \"hostPort\": 15001,\r\n          \"protocol\": \"tcp\"\r\n        }\r\n      ],\r\n      \"environment\": [\r\n        {\r\n          \"name\": \"APPMESH_VIRTUAL_NODE_NAME\",\r\n          \"value\": \"${appmesh_virtual_node_name}\"\r\n        },\r\n        {\r\n          \"name\": \"ENVOY_LOG_LEVEL\",\r\n          \"value\": \"info\"\r\n        },\r\n        {\r\n          \"name\": \"APPMESH_XDS_ENDPOINT\",\r\n          \"value\": \"\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_XRAY_TRACING\",\r\n          \"value\": \"1\"\r\n        },\r\n        {\r\n          \"name\": \"ENABLE_ENVOY_STATS_TAGS\",\r\n          \"value\": \"1\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n          \"awslogs-region\": \"${service_region_name}\",\r\n          \"awslogs-stream-prefix\": \"envoy\"\r\n        }\r\n      },\r\n      \"healthCheck\": {\r\n        \"command\": [\r\n          \"CMD-SHELL\",\r\n          \"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"\r\n        ],\r\n        \"interval\": 5,\r\n        \"timeout\": 2,\r\n        \"retries\": 3\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"xray-daemon\",\r\n      \"image\": \"amazon/aws-xray-daemon\",\r\n      \"user\": \"1337\",\r\n      \"essential\": true,\r\n      \"cpu\": 1,\r\n      \"memoryReservation\": 256,\r\n      \"portMappings\": [\r\n        {\r\n          \"hostPort\": 2000,\r\n          \"containerPort\": 2000,\r\n          \"protocol\": \"udp\"\r\n        }\r\n      ],\r\n      \"logConfiguration\": {\r\n        \"logDriver\": \"awslogs\",\r\n        \"options\": {\r\n          \"awslogs-group\": \"${service_ecstask_log_group_name}\",\r\n          \"awslogs-region\": \"${service_region_name}\",\r\n          \"awslogs-stream-prefix\": \"xray\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n  ",
            "vars": {
              "appmesh_virtual_node_name": "mesh/bookingapp-mess/virtualNode/redis-vnode",
              "service_ecs_container_name": "redis",
              "service_ecstask_log_group_name": "service_bookingapp-redis_log_group",
              "service_image": "339712838104.dkr.ecr.us-east-1.amazonaws.com/redis-alpine:latest",
              "service_region_name": "us-east-1"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_mesh",
      "name": "bookingapp-mess",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess",
            "created_date": "2024-06-06T12:04:43Z",
            "id": "bookingapp-mess",
            "last_updated_date": "2024-06-06T12:04:43Z",
            "mesh_owner": "339712838104",
            "name": "bookingapp-mess",
            "resource_owner": "339712838104",
            "spec": [
              {
                "egress_filter": [
                  {
                    "type": "ALLOW_ALL"
                  }
                ],
                "service_discovery": []
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_route",
      "name": "movie-vroute",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualRouter/movie-vrouter/route/movie-vroute",
            "created_date": "2024-06-06T12:05:46Z",
            "id": "0df77f10-71f1-44e2-9048-580d23a1b24e",
            "last_updated_date": "2024-06-06T12:05:46Z",
            "mesh_name": "bookingapp-mess",
            "mesh_owner": "339712838104",
            "name": "movie-vroute",
            "resource_owner": "339712838104",
            "spec": [
              {
                "grpc_route": [],
                "http2_route": [],
                "http_route": [
                  {
                    "action": [
                      {
                        "weighted_target": [
                          {
                            "port": null,
                            "virtual_node": "movie-vnode",
                            "weight": 30
                          },
                          {
                            "port": null,
                            "virtual_node": "movie2-vnode",
                            "weight": 70
                          }
                        ]
                      }
                    ],
                    "match": [
                      {
                        "header": [],
                        "method": "",
                        "path": [],
                        "port": 0,
                        "prefix": "/movie",
                        "query_parameter": [],
                        "scheme": ""
                      }
                    ],
                    "retry_policy": [],
                    "timeout": []
                  }
                ],
                "priority": 0,
                "tcp_route": []
              }
            ],
            "tags": null,
            "tags_all": {},
            "virtual_router_name": "movie-vrouter"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie",
            "aws_appmesh_virtual_node.bookingapp-movie2",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_router.movie-vrouter",
            "aws_appmesh_virtual_service.redis",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie",
            "aws_service_discovery_service.bookingapp-movie2",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_virtual_node",
      "name": "bookingapp-home",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualNode/home-vnode",
            "created_date": "2024-06-06T12:05:45Z",
            "id": "9e3366ee-4089-424f-bcf0-2146e0c93304",
            "last_updated_date": "2024-06-06T12:05:45Z",
            "mesh_name": "bookingapp-mess",
            "mesh_owner": "339712838104",
            "name": "home-vnode",
            "resource_owner": "339712838104",
            "spec": [
              {
                "backend": [
                  {
                    "virtual_service": [
                      {
                        "client_policy": [],
                        "virtual_service_name": "movie.internal-bookingapp.com"
                      }
                    ]
                  },
                  {
                    "virtual_service": [
                      {
                        "client_policy": [],
                        "virtual_service_name": "redis.internal-bookingapp.com"
                      }
                    ]
                  }
                ],
                "backend_defaults": [],
                "listener": [
                  {
                    "connection_pool": [],
                    "health_check": [
                      {
                        "healthy_threshold": 2,
                        "interval_millis": 5000,
                        "path": "/healthcheck",
                        "port": 5000,
                        "protocol": "http",
                        "timeout_millis": 2000,
                        "unhealthy_threshold": 2
                      }
                    ],
                    "outlier_detection": [],
                    "port_mapping": [
                      {
                        "port": 5000,
                        "protocol": "http"
                      }
                    ],
                    "timeout": [],
                    "tls": []
                  }
                ],
                "logging": [
                  {
                    "access_log": [
                      {
                        "file": [
                          {
                            "format": [],
                            "path": "/dev/stdout"
                          }
                        ]
                      }
                    ]
                  }
                ],
                "service_discovery": [
                  {
                    "aws_cloud_map": [
                      {
                        "attributes": null,
                        "namespace_name": "internal-bookingapp.com",
                        "service_name": "home"
                      }
                    ],
                    "dns": []
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_router.movie-vrouter",
            "aws_appmesh_virtual_service.movie",
            "aws_appmesh_virtual_service.redis",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-home",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_virtual_node",
      "name": "bookingapp-movie",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualNode/movie-vnode",
            "created_date": "2024-06-06T12:05:45Z",
            "id": "424b9670-0e45-4a3f-8659-db72cd5647f7",
            "last_updated_date": "2024-06-06T12:05:45Z",
            "mesh_name": "bookingapp-mess",
            "mesh_owner": "339712838104",
            "name": "movie-vnode",
            "resource_owner": "339712838104",
            "spec": [
              {
                "backend": [
                  {
                    "virtual_service": [
                      {
                        "client_policy": [],
                        "virtual_service_name": "redis.internal-bookingapp.com"
                      }
                    ]
                  }
                ],
                "backend_defaults": [],
                "listener": [
                  {
                    "connection_pool": [],
                    "health_check": [
                      {
                        "healthy_threshold": 2,
                        "interval_millis": 5000,
                        "path": "/movie",
                        "port": 5000,
                        "protocol": "http",
                        "timeout_millis": 2000,
                        "unhealthy_threshold": 2
                      }
                    ],
                    "outlier_detection": [],
                    "port_mapping": [
                      {
                        "port": 5000,
                        "protocol": "http"
                      }
                    ],
                    "timeout": [],
                    "tls": []
                  }
                ],
                "logging": [
                  {
                    "access_log": [
                      {
                        "file": [
                          {
                            "format": [],
                            "path": "/dev/stdout"
                          }
                        ]
                      }
                    ]
                  }
                ],
                "service_discovery": [
                  {
                    "aws_cloud_map": [
                      {
                        "attributes": null,
                        "namespace_name": "internal-bookingapp.com",
                        "service_name": "movie"
                      }
                    ],
                    "dns": []
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_virtual_node",
      "name": "bookingapp-movie2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualNode/movie2-vnode",
            "created_date": "2024-06-06T12:05:45Z",
            "id": "df9cc97c-b7d7-459d-8839-c050e51a3654",
            "last_updated_date": "2024-06-06T12:05:45Z",
            "mesh_name": "bookingapp-mess",
            "mesh_owner": "339712838104",
            "name": "movie2-vnode",
            "resource_owner": "339712838104",
            "spec": [
              {
                "backend": [
                  {
                    "virtual_service": [
                      {
                        "client_policy": [],
                        "virtual_service_name": "redis.internal-bookingapp.com"
                      }
                    ]
                  }
                ],
                "backend_defaults": [],
                "listener": [
                  {
                    "connection_pool": [],
                    "health_check": [],
                    "outlier_detection": [],
                    "port_mapping": [
                      {
                        "port": 5000,
                        "protocol": "http"
                      }
                    ],
                    "timeout": [],
                    "tls": []
                  }
                ],
                "logging": [],
                "service_discovery": [
                  {
                    "aws_cloud_map": [
                      {
                        "attributes": null,
                        "namespace_name": "internal-bookingapp.com",
                        "service_name": "movie2"
                      }
                    ],
                    "dns": []
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie2",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_virtual_node",
      "name": "bookingapp-redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualNode/redis-vnode",
            "created_date": "2024-06-06T12:05:43Z",
            "id": "6814db8c-b80d-4a67-adc4-607f44792c2e",
            "last_updated_date": "2024-06-06T12:05:43Z",
            "mesh_name": "bookingapp-mess",
            "mesh_owner": "339712838104",
            "name": "redis-vnode",
            "resource_owner": "339712838104",
            "spec": [
              {
                "backend": [],
                "backend_defaults": [],
                "listener": [
                  {
                    "connection_pool": [],
                    "health_check": [],
                    "outlier_detection": [],
                    "port_mapping": [
                      {
                        "port": 6379,
                        "protocol": "tcp"
                      }
                    ],
                    "timeout": [],
                    "tls": []
                  }
                ],
                "logging": [],
                "service_discovery": [
                  {
                    "aws_cloud_map": [
                      {
                        "attributes": null,
                        "namespace_name": "internal-bookingapp.com",
                        "service_name": "redis"
                      }
                    ],
                    "dns": []
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_virtual_router",
      "name": "movie-vrouter",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualRouter/movie-vrouter",
            "created_date": "2024-06-06T12:04:44Z",
            "id": "47100b1e-4d5a-450a-b2b2-abe56df50181",
            "last_updated_date": "2024-06-06T12:04:44Z",
            "mesh_name": "bookingapp-mess",
            "mesh_owner": "339712838104",
            "name": "movie-vrouter",
            "resource_owner": "339712838104",
            "spec": [
              {
                "listener": [
                  {
                    "port_mapping": [
                      {
                        "port": 5000,
                        "protocol": "http"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_virtual_service",
      "name": "home",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualService/home.internal-bookingapp.com",
            "created_date": "2024-06-06T12:05:46Z",
            "id": "c86c2ab1-a5f5-41ef-a2f8-3ea6d27225d5",
            "last_updated_date": "2024-06-06T12:05:46Z",
            "mesh_name": "bookingapp-mess",
            "mesh_owner": "339712838104",
            "name": "home.internal-bookingapp.com",
            "resource_owner": "339712838104",
            "spec": [
              {
                "provider": [
                  {
                    "virtual_node": [
                      {
                        "virtual_node_name": "home-vnode"
                      }
                    ],
                    "virtual_router": []
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-home",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_router.movie-vrouter",
            "aws_appmesh_virtual_service.movie",
            "aws_appmesh_virtual_service.redis",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-home",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_virtual_service",
      "name": "movie",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualService/movie.internal-bookingapp.com",
            "created_date": "2024-06-06T12:04:45Z",
            "id": "9c1edd05-ded0-4499-9e23-3ba22630512c",
            "last_updated_date": "2024-06-06T12:04:45Z",
            "mesh_name": "bookingapp-mess",
            "mesh_owner": "339712838104",
            "name": "movie.internal-bookingapp.com",
            "resource_owner": "339712838104",
            "spec": [
              {
                "provider": [
                  {
                    "virtual_node": [],
                    "virtual_router": [
                      {
                        "virtual_router_name": "movie-vrouter"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_router.movie-vrouter"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_appmesh_virtual_service",
      "name": "redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualService/redis.internal-bookingapp.com",
            "created_date": "2024-06-06T12:05:44Z",
            "id": "ad8a0dfa-bf0d-4785-b144-383fec300c1d",
            "last_updated_date": "2024-06-06T12:05:44Z",
            "mesh_name": "bookingapp-mess",
            "mesh_owner": "339712838104",
            "name": "redis.internal-bookingapp.com",
            "resource_owner": "339712838104",
            "spec": [
              {
                "provider": [
                  {
                    "virtual_node": [
                      {
                        "virtual_node_name": "redis-vnode"
                      }
                    ],
                    "virtual_router": []
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "codebuild-logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:339712838104:log-group:codebuild-logs",
            "id": "codebuild-logs",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "codebuild-logs",
            "name_prefix": "",
            "retention_in_days": 0,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "service_bookingapp-home_log_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:339712838104:log-group:service_bookingapp-home_log_group",
            "id": "service_bookingapp-home_log_group",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "service_bookingapp-home_log_group",
            "name_prefix": "",
            "retention_in_days": 0,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "service_bookingapp-movie2_log_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:339712838104:log-group:service_bookingapp-movie2_log_group",
            "id": "service_bookingapp-movie2_log_group",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "service_bookingapp-movie2_log_group",
            "name_prefix": "",
            "retention_in_days": 0,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "service_bookingapp-movie_log_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:339712838104:log-group:service_bookingapp-movie_log_group",
            "id": "service_bookingapp-movie_log_group",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "service_bookingapp-movie_log_group",
            "name_prefix": "",
            "retention_in_days": 0,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "service_bookingapp-redis_log_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:339712838104:log-group:service_bookingapp-redis_log_group",
            "id": "service_bookingapp-redis_log_group",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "service_bookingapp-redis_log_group",
            "name_prefix": "",
            "retention_in_days": 0,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_stream",
      "name": "codebuild-stream",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:339712838104:log-group:codebuild-logs:log-stream:codebuild-stream",
            "id": "codebuild-stream",
            "log_group_name": "codebuild-logs",
            "name": "codebuild-stream"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.codebuild-logs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_codebuild_project",
      "name": "codebuild",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codebuild:us-east-1:339712838104:project/test_codebuild",
            "artifacts": [
              {
                "artifact_identifier": "",
                "bucket_owner_access": "",
                "encryption_disabled": false,
                "location": "",
                "name": "",
                "namespace_type": "",
                "override_artifact_name": false,
                "packaging": "",
                "path": "",
                "type": "NO_ARTIFACTS"
              }
            ],
            "badge_enabled": false,
            "badge_url": "",
            "build_batch_config": [],
            "build_timeout": 60,
            "cache": [
              {
                "location": "",
                "modes": [],
                "type": "NO_CACHE"
              }
            ],
            "concurrent_build_limit": 0,
            "description": "codebuild_project",
            "encryption_key": "arn:aws:kms:us-east-1:339712838104:alias/aws/s3",
            "environment": [
              {
                "certificate": "",
                "compute_type": "BUILD_GENERAL1_SMALL",
                "environment_variable": [],
                "image": "aws/codebuild/standard:3.0",
                "image_pull_credentials_type": "CODEBUILD",
                "privileged_mode": true,
                "registry_credential": [],
                "type": "LINUX_CONTAINER"
              }
            ],
            "file_system_locations": [],
            "id": "arn:aws:codebuild:us-east-1:339712838104:project/test_codebuild",
            "logs_config": [
              {
                "cloudwatch_logs": [
                  {
                    "group_name": "codebuild-logs",
                    "status": "ENABLED",
                    "stream_name": "codebuild-stream"
                  }
                ],
                "s3_logs": [
                  {
                    "bucket_owner_access": "",
                    "encryption_disabled": false,
                    "location": "",
                    "status": "DISABLED"
                  }
                ]
              }
            ],
            "name": "test_codebuild",
            "project_visibility": "PRIVATE",
            "public_project_alias": "",
            "queued_timeout": 480,
            "resource_access_role": "",
            "secondary_artifacts": [],
            "secondary_source_version": [],
            "secondary_sources": [],
            "service_role": "arn:aws:iam::339712838104:role/codebuild_role",
            "source": [
              {
                "build_status_config": [],
                "buildspec": "",
                "git_clone_depth": 0,
                "git_submodules_config": [],
                "insecure_ssl": false,
                "location": "https://git-codecommit.us-east-1.amazonaws.com/v1/repos/ecs_repo",
                "report_build_status": false,
                "type": "CODECOMMIT"
              }
            ],
            "source_version": "",
            "tags": null,
            "tags_all": {},
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.codebuild-logs",
            "aws_cloudwatch_log_stream.codebuild-stream",
            "aws_codecommit_repository.this",
            "aws_iam_role.cicd_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_codecommit_repository",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codecommit:us-east-1:339712838104:ecs_repo",
            "clone_url_http": "https://git-codecommit.us-east-1.amazonaws.com/v1/repos/ecs_repo",
            "clone_url_ssh": "ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/ecs_repo",
            "default_branch": null,
            "description": "ECS microservices ci-cd",
            "id": "ecs_repo",
            "kms_key_id": "arn:aws:kms:us-east-1:339712838104:key/a6a234c7-3287-4e70-8d06-be0cb466c199",
            "repository_id": "5bd5a781-a708-4e5c-a74d-7dac11c0ffd0",
            "repository_name": "ecs_repo",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_codepipeline",
      "name": "codepipeline",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codepipeline:us-east-1:339712838104:tf-test-pipeline",
            "artifact_store": [
              {
                "encryption_key": [],
                "location": "s3-bucket-jtoyu9",
                "region": "",
                "type": "S3"
              }
            ],
            "execution_mode": "SUPERSEDED",
            "id": "tf-test-pipeline",
            "name": "tf-test-pipeline",
            "pipeline_type": "V1",
            "role_arn": "arn:aws:iam::339712838104:role/codebuild_role",
            "stage": [
              {
                "action": [
                  {
                    "category": "Source",
                    "configuration": {
                      "BranchName": "master",
                      "RepositoryName": "ecs_repo"
                    },
                    "input_artifacts": null,
                    "name": "Source",
                    "namespace": "",
                    "output_artifacts": [
                      "source_output"
                    ],
                    "owner": "AWS",
                    "provider": "CodeCommit",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "version": "1"
                  }
                ],
                "name": "Source"
              },
              {
                "action": [
                  {
                    "category": "Build",
                    "configuration": {
                      "ProjectName": "test_codebuild"
                    },
                    "input_artifacts": [
                      "source_output"
                    ],
                    "name": "Build",
                    "namespace": "",
                    "output_artifacts": [
                      "build_output"
                    ],
                    "owner": "AWS",
                    "provider": "CodeBuild",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "version": "1"
                  }
                ],
                "name": "Build"
              },
              {
                "action": [
                  {
                    "category": "Deploy",
                    "configuration": {
                      "ClusterName": "bookingapp-cluster",
                      "FileName": "imagedefinitions.json",
                      "ServiceName": "bookingapp-home"
                    },
                    "input_artifacts": [
                      "build_output"
                    ],
                    "name": "Deploy",
                    "namespace": "",
                    "output_artifacts": null,
                    "owner": "AWS",
                    "provider": "ECS",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "version": "1"
                  }
                ],
                "name": "Deploy"
              }
            ],
            "tags": null,
            "tags_all": {},
            "trigger": [],
            "variable": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-home",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_router.movie-vrouter",
            "aws_appmesh_virtual_service.movie",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.codebuild-logs",
            "aws_cloudwatch_log_group.service_bookingapp-home_log_group",
            "aws_cloudwatch_log_stream.codebuild-stream",
            "aws_codebuild_project.codebuild",
            "aws_codecommit_repository.this",
            "aws_ecs_task_definition.bookingapp-home",
            "aws_iam_role.cicd_role",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_s3_bucket.codepipeline_bucket",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-home",
            "data.template_file.bookingapp-home",
            "module.alb.aws_lb_target_group.this",
            "module.bookingapp-home-sec.aws_security_group.this",
            "module.bookingapp-home-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-home.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-home.aws_ecs_service.this",
            "module.bookingapp-home.aws_ecs_task_definition.this",
            "module.bookingapp-home.aws_iam_policy.service",
            "module.bookingapp-home.aws_iam_policy.task_exec",
            "module.bookingapp-home.aws_iam_role.service",
            "module.bookingapp-home.aws_iam_role.task_exec",
            "module.bookingapp-home.aws_iam_role.tasks",
            "module.bookingapp-home.aws_iam_role_policy_attachment.service",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-home.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-home.aws_security_group.this",
            "module.bookingapp-home.data.aws_caller_identity.current",
            "module.bookingapp-home.data.aws_ecs_task_definition.this",
            "module.bookingapp-home.data.aws_iam_policy_document.service",
            "module.bookingapp-home.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-home.data.aws_partition.current",
            "module.bookingapp-home.data.aws_region.current",
            "module.bookingapp-home.data.aws_subnet.this",
            "module.bookingapp-home.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-home.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_cloudwatch_log_group.flow_log",
            "module.vpc.aws_customer_gateway.this",
            "module.vpc.aws_db_subnet_group.database",
            "module.vpc.aws_default_network_acl.this",
            "module.vpc.aws_default_route_table.default",
            "module.vpc.aws_default_security_group.this",
            "module.vpc.aws_default_vpc.this",
            "module.vpc.aws_egress_only_internet_gateway.this",
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_elasticache_subnet_group.elasticache",
            "module.vpc.aws_flow_log.this",
            "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_network_acl.database",
            "module.vpc.aws_network_acl.elasticache",
            "module.vpc.aws_network_acl.intra",
            "module.vpc.aws_network_acl.outpost",
            "module.vpc.aws_network_acl.private",
            "module.vpc.aws_network_acl.public",
            "module.vpc.aws_network_acl.redshift",
            "module.vpc.aws_network_acl_rule.database_inbound",
            "module.vpc.aws_network_acl_rule.database_outbound",
            "module.vpc.aws_network_acl_rule.elasticache_inbound",
            "module.vpc.aws_network_acl_rule.elasticache_outbound",
            "module.vpc.aws_network_acl_rule.intra_inbound",
            "module.vpc.aws_network_acl_rule.intra_outbound",
            "module.vpc.aws_network_acl_rule.outpost_inbound",
            "module.vpc.aws_network_acl_rule.outpost_outbound",
            "module.vpc.aws_network_acl_rule.private_inbound",
            "module.vpc.aws_network_acl_rule.private_outbound",
            "module.vpc.aws_network_acl_rule.public_inbound",
            "module.vpc.aws_network_acl_rule.public_outbound",
            "module.vpc.aws_network_acl_rule.redshift_inbound",
            "module.vpc.aws_network_acl_rule.redshift_outbound",
            "module.vpc.aws_redshift_subnet_group.redshift",
            "module.vpc.aws_route.database_dns64_nat_gateway",
            "module.vpc.aws_route.database_internet_gateway",
            "module.vpc.aws_route.database_ipv6_egress",
            "module.vpc.aws_route.database_nat_gateway",
            "module.vpc.aws_route.private_dns64_nat_gateway",
            "module.vpc.aws_route.private_ipv6_egress",
            "module.vpc.aws_route.private_nat_gateway",
            "module.vpc.aws_route.public_internet_gateway",
            "module.vpc.aws_route.public_internet_gateway_ipv6",
            "module.vpc.aws_route_table.database",
            "module.vpc.aws_route_table.elasticache",
            "module.vpc.aws_route_table.intra",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_route_table.redshift",
            "module.vpc.aws_route_table_association.database",
            "module.vpc.aws_route_table_association.elasticache",
            "module.vpc.aws_route_table_association.intra",
            "module.vpc.aws_route_table_association.outpost",
            "module.vpc.aws_route_table_association.private",
            "module.vpc.aws_route_table_association.public",
            "module.vpc.aws_route_table_association.redshift",
            "module.vpc.aws_route_table_association.redshift_public",
            "module.vpc.aws_subnet.database",
            "module.vpc.aws_subnet.elasticache",
            "module.vpc.aws_subnet.intra",
            "module.vpc.aws_subnet.outpost",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_subnet.redshift",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_dhcp_options.this",
            "module.vpc.aws_vpc_dhcp_options_association.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "module.vpc.aws_vpn_gateway.this",
            "module.vpc.aws_vpn_gateway_attachment.this",
            "module.vpc.aws_vpn_gateway_route_propagation.intra",
            "module.vpc.aws_vpn_gateway_route_propagation.private",
            "module.vpc.aws_vpn_gateway_route_propagation.public",
            "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
            "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
            "random_string.random"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "bookingapp-home",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-home:40",
            "arn_without_revision": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-home",
            "container_definitions": "[{\"cpu\":64,\"environment\":[{\"name\":\"APPMESH_VIRTUAL_NODE_NAME\",\"value\":\"mesh/bookingapp-mess/virtualNode/home-vnode\"},{\"name\":\"APPMESH_XDS_ENDPOINT\",\"value\":\"\"},{\"name\":\"ENABLE_ENVOY_STATS_TAGS\",\"value\":\"1\"},{\"name\":\"ENABLE_ENVOY_XRAY_TRACING\",\"value\":\"1\"},{\"name\":\"ENVOY_LOG_LEVEL\",\"value\":\"info\"}],\"essential\":true,\"healthCheck\":{\"command\":[\"CMD-SHELL\",\"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"],\"interval\":5,\"retries\":3,\"timeout\":2},\"image\":\"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-home_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"envoy\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"envoy\",\"portMappings\":[{\"containerPort\":9901,\"hostPort\":9901,\"protocol\":\"tcp\"},{\"containerPort\":15000,\"hostPort\":15000,\"protocol\":\"tcp\"},{\"containerPort\":15001,\"hostPort\":15001,\"protocol\":\"tcp\"}],\"systemControls\":[],\"ulimits\":[{\"hardLimit\":15000,\"name\":\"nofile\",\"softLimit\":15000}],\"user\":\"1337\",\"volumesFrom\":[]},{\"cpu\":1,\"dependsOn\":[{\"condition\":\"HEALTHY\",\"containerName\":\"envoy\"}],\"environment\":[],\"essential\":true,\"image\":\"339712838104.dkr.ecr.us-east-1.amazonaws.com/bookingapp-home:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-home_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"home\",\"portMappings\":[{\"appProtocol\":\"http\",\"containerPort\":5000,\"hostPort\":5000,\"protocol\":\"tcp\"}],\"systemControls\":[],\"volumesFrom\":[]},{\"cpu\":1,\"environment\":[],\"essential\":true,\"image\":\"amazon/aws-xray-daemon\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-home_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"xray\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"xray-daemon\",\"portMappings\":[{\"containerPort\":2000,\"hostPort\":2000,\"protocol\":\"udp\"}],\"systemControls\":[],\"user\":\"1337\",\"volumesFrom\":[]}]",
            "cpu": "512",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::339712838104:role/ecs_task_execution_role",
            "family": "bookingapp-home",
            "id": "bookingapp-home",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "1024",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [
              {
                "container_name": "envoy",
                "properties": {
                  "AppPorts": "5000",
                  "EgressIgnoredIPs": "169.254.170.2,169.254.169.254",
                  "IgnoredUID": "1337",
                  "ProxyEgressPort": "15001",
                  "ProxyIngressPort": "15000"
                },
                "type": "APPMESH"
              }
            ],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 40,
            "runtime_platform": [
              {
                "cpu_architecture": "X86_64",
                "operating_system_family": "LINUX"
              }
            ],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::339712838104:role/ecs_task_role",
            "track_latest": false,
            "volume": []
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-home",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_router.movie-vrouter",
            "aws_appmesh_virtual_service.movie",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-home_log_group",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-home",
            "data.template_file.bookingapp-home",
            "module.vpc.aws_cloudwatch_log_group.flow_log",
            "module.vpc.aws_customer_gateway.this",
            "module.vpc.aws_db_subnet_group.database",
            "module.vpc.aws_default_network_acl.this",
            "module.vpc.aws_default_route_table.default",
            "module.vpc.aws_default_security_group.this",
            "module.vpc.aws_default_vpc.this",
            "module.vpc.aws_egress_only_internet_gateway.this",
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_elasticache_subnet_group.elasticache",
            "module.vpc.aws_flow_log.this",
            "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_network_acl.database",
            "module.vpc.aws_network_acl.elasticache",
            "module.vpc.aws_network_acl.intra",
            "module.vpc.aws_network_acl.outpost",
            "module.vpc.aws_network_acl.private",
            "module.vpc.aws_network_acl.public",
            "module.vpc.aws_network_acl.redshift",
            "module.vpc.aws_network_acl_rule.database_inbound",
            "module.vpc.aws_network_acl_rule.database_outbound",
            "module.vpc.aws_network_acl_rule.elasticache_inbound",
            "module.vpc.aws_network_acl_rule.elasticache_outbound",
            "module.vpc.aws_network_acl_rule.intra_inbound",
            "module.vpc.aws_network_acl_rule.intra_outbound",
            "module.vpc.aws_network_acl_rule.outpost_inbound",
            "module.vpc.aws_network_acl_rule.outpost_outbound",
            "module.vpc.aws_network_acl_rule.private_inbound",
            "module.vpc.aws_network_acl_rule.private_outbound",
            "module.vpc.aws_network_acl_rule.public_inbound",
            "module.vpc.aws_network_acl_rule.public_outbound",
            "module.vpc.aws_network_acl_rule.redshift_inbound",
            "module.vpc.aws_network_acl_rule.redshift_outbound",
            "module.vpc.aws_redshift_subnet_group.redshift",
            "module.vpc.aws_route.database_dns64_nat_gateway",
            "module.vpc.aws_route.database_internet_gateway",
            "module.vpc.aws_route.database_ipv6_egress",
            "module.vpc.aws_route.database_nat_gateway",
            "module.vpc.aws_route.private_dns64_nat_gateway",
            "module.vpc.aws_route.private_ipv6_egress",
            "module.vpc.aws_route.private_nat_gateway",
            "module.vpc.aws_route.public_internet_gateway",
            "module.vpc.aws_route.public_internet_gateway_ipv6",
            "module.vpc.aws_route_table.database",
            "module.vpc.aws_route_table.elasticache",
            "module.vpc.aws_route_table.intra",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_route_table.redshift",
            "module.vpc.aws_route_table_association.database",
            "module.vpc.aws_route_table_association.elasticache",
            "module.vpc.aws_route_table_association.intra",
            "module.vpc.aws_route_table_association.outpost",
            "module.vpc.aws_route_table_association.private",
            "module.vpc.aws_route_table_association.public",
            "module.vpc.aws_route_table_association.redshift",
            "module.vpc.aws_route_table_association.redshift_public",
            "module.vpc.aws_subnet.database",
            "module.vpc.aws_subnet.elasticache",
            "module.vpc.aws_subnet.intra",
            "module.vpc.aws_subnet.outpost",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_subnet.redshift",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_dhcp_options.this",
            "module.vpc.aws_vpc_dhcp_options_association.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "module.vpc.aws_vpn_gateway.this",
            "module.vpc.aws_vpn_gateway_attachment.this",
            "module.vpc.aws_vpn_gateway_route_propagation.intra",
            "module.vpc.aws_vpn_gateway_route_propagation.private",
            "module.vpc.aws_vpn_gateway_route_propagation.public",
            "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
            "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "bookingapp-movie",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-movie:27",
            "arn_without_revision": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-movie",
            "container_definitions": "[{\"cpu\":1,\"environment\":[{\"name\":\"APPMESH_VIRTUAL_NODE_NAME\",\"value\":\"mesh/bookingapp-mess/virtualNode/movie-vnode\"},{\"name\":\"APPMESH_XDS_ENDPOINT\",\"value\":\"\"},{\"name\":\"ENABLE_ENVOY_STATS_TAGS\",\"value\":\"1\"},{\"name\":\"ENABLE_ENVOY_XRAY_TRACING\",\"value\":\"1\"},{\"name\":\"ENVOY_LOG_LEVEL\",\"value\":\"info\"}],\"essential\":true,\"healthCheck\":{\"command\":[\"CMD-SHELL\",\"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"],\"interval\":5,\"retries\":3,\"timeout\":2},\"image\":\"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-movie_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"envoy\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"envoy\",\"portMappings\":[{\"containerPort\":9901,\"hostPort\":9901,\"protocol\":\"tcp\"},{\"containerPort\":15000,\"hostPort\":15000,\"protocol\":\"tcp\"},{\"containerPort\":15001,\"hostPort\":15001,\"protocol\":\"tcp\"}],\"systemControls\":[],\"ulimits\":[{\"hardLimit\":15000,\"name\":\"nofile\",\"softLimit\":15000}],\"user\":\"1337\",\"volumesFrom\":[]},{\"cpu\":1,\"dependsOn\":[{\"condition\":\"HEALTHY\",\"containerName\":\"envoy\"}],\"environment\":[],\"essential\":true,\"image\":\"339712838104.dkr.ecr.us-east-1.amazonaws.com/bookingapp-movie:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-movie_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"movie\",\"portMappings\":[{\"appProtocol\":\"http\",\"containerPort\":5000,\"hostPort\":5000,\"protocol\":\"tcp\"}],\"systemControls\":[],\"volumesFrom\":[]},{\"cpu\":1,\"environment\":[],\"essential\":true,\"image\":\"amazon/aws-xray-daemon\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-movie_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"xray\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"xray-daemon\",\"portMappings\":[{\"containerPort\":2000,\"hostPort\":2000,\"protocol\":\"udp\"}],\"systemControls\":[],\"user\":\"1337\",\"volumesFrom\":[]}]",
            "cpu": "512",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::339712838104:role/ecs_task_execution_role",
            "family": "bookingapp-movie",
            "id": "bookingapp-movie",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "1024",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [
              {
                "container_name": "envoy",
                "properties": {
                  "AppPorts": "5000",
                  "EgressIgnoredIPs": "169.254.170.2,169.254.169.254",
                  "IgnoredUID": "1337",
                  "ProxyEgressPort": "15001",
                  "ProxyIngressPort": "15000"
                },
                "type": "APPMESH"
              }
            ],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 27,
            "runtime_platform": [
              {
                "cpu_architecture": "X86_64",
                "operating_system_family": "LINUX"
              }
            ],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::339712838104:role/ecs_task_role",
            "track_latest": false,
            "volume": []
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie_log_group",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie",
            "data.template_file.bookingapp-movie",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "bookingapp-movie2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-movie2:20",
            "arn_without_revision": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-movie2",
            "container_definitions": "[{\"cpu\":1,\"environment\":[{\"name\":\"APPMESH_VIRTUAL_NODE_NAME\",\"value\":\"mesh/bookingapp-mess/virtualNode/movie2-vnode\"},{\"name\":\"APPMESH_XDS_ENDPOINT\",\"value\":\"\"},{\"name\":\"ENABLE_ENVOY_STATS_TAGS\",\"value\":\"1\"},{\"name\":\"ENABLE_ENVOY_XRAY_TRACING\",\"value\":\"1\"},{\"name\":\"ENVOY_LOG_LEVEL\",\"value\":\"info\"}],\"essential\":true,\"healthCheck\":{\"command\":[\"CMD-SHELL\",\"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"],\"interval\":5,\"retries\":3,\"timeout\":2},\"image\":\"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-movie2_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"envoy\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"envoy\",\"portMappings\":[{\"containerPort\":9901,\"hostPort\":9901,\"protocol\":\"tcp\"},{\"containerPort\":15000,\"hostPort\":15000,\"protocol\":\"tcp\"},{\"containerPort\":15001,\"hostPort\":15001,\"protocol\":\"tcp\"}],\"systemControls\":[],\"ulimits\":[{\"hardLimit\":15000,\"name\":\"nofile\",\"softLimit\":15000}],\"user\":\"1337\",\"volumesFrom\":[]},{\"cpu\":1,\"dependsOn\":[{\"condition\":\"HEALTHY\",\"containerName\":\"envoy\"}],\"environment\":[],\"essential\":true,\"image\":\"339712838104.dkr.ecr.us-east-1.amazonaws.com/bookingapp-movie2:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-movie2_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"movie2\",\"portMappings\":[{\"appProtocol\":\"http\",\"containerPort\":5000,\"hostPort\":5000,\"protocol\":\"tcp\"}],\"systemControls\":[],\"volumesFrom\":[]},{\"cpu\":1,\"environment\":[],\"essential\":true,\"image\":\"amazon/aws-xray-daemon\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-movie2_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"xray\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"xray-daemon\",\"portMappings\":[{\"containerPort\":2000,\"hostPort\":2000,\"protocol\":\"udp\"}],\"systemControls\":[],\"user\":\"1337\",\"volumesFrom\":[]}]",
            "cpu": "512",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::339712838104:role/ecs_task_execution_role",
            "family": "bookingapp-movie2",
            "id": "bookingapp-movie2",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "1024",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [
              {
                "container_name": "envoy",
                "properties": {
                  "AppPorts": "5000",
                  "EgressIgnoredIPs": "169.254.170.2,169.254.169.254",
                  "IgnoredUID": "1337",
                  "ProxyEgressPort": "15001",
                  "ProxyIngressPort": "15000"
                },
                "type": "APPMESH"
              }
            ],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 20,
            "runtime_platform": [
              {
                "cpu_architecture": "X86_64",
                "operating_system_family": "LINUX"
              }
            ],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::339712838104:role/ecs_task_role",
            "track_latest": false,
            "volume": []
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie2",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie2_log_group",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie2",
            "data.template_file.bookingapp-movie2",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "bookingapp-redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-redis:23",
            "arn_without_revision": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-redis",
            "container_definitions": "[{\"cpu\":1,\"environment\":[{\"name\":\"APPMESH_VIRTUAL_NODE_NAME\",\"value\":\"mesh/bookingapp-mess/virtualNode/redis-vnode\"},{\"name\":\"APPMESH_XDS_ENDPOINT\",\"value\":\"\"},{\"name\":\"ENABLE_ENVOY_STATS_TAGS\",\"value\":\"1\"},{\"name\":\"ENABLE_ENVOY_XRAY_TRACING\",\"value\":\"1\"},{\"name\":\"ENVOY_LOG_LEVEL\",\"value\":\"info\"}],\"essential\":true,\"healthCheck\":{\"command\":[\"CMD-SHELL\",\"curl -s http://localhost:9901/server_info | grep state | grep -q LIVE\"],\"interval\":5,\"retries\":3,\"timeout\":2},\"image\":\"111345817488.dkr.ecr.us-west-2.amazonaws.com/aws-appmesh-envoy:v1.9.1.0-prod\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-redis_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"envoy\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"envoy\",\"portMappings\":[{\"containerPort\":9901,\"hostPort\":9901,\"protocol\":\"tcp\"},{\"containerPort\":15000,\"hostPort\":15000,\"protocol\":\"tcp\"},{\"containerPort\":15001,\"hostPort\":15001,\"protocol\":\"tcp\"}],\"systemControls\":[],\"ulimits\":[{\"hardLimit\":15000,\"name\":\"nofile\",\"softLimit\":15000}],\"user\":\"1337\",\"volumesFrom\":[]},{\"cpu\":1,\"dependsOn\":[{\"condition\":\"HEALTHY\",\"containerName\":\"envoy\"}],\"environment\":[],\"essential\":true,\"image\":\"339712838104.dkr.ecr.us-east-1.amazonaws.com/redis-alpine:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-redis_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"redis\",\"portMappings\":[{\"containerPort\":6379,\"hostPort\":6379,\"protocol\":\"tcp\"}],\"systemControls\":[],\"volumesFrom\":[]},{\"cpu\":1,\"environment\":[],\"essential\":true,\"image\":\"amazon/aws-xray-daemon\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"service_bookingapp-redis_log_group\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"xray\"}},\"memoryReservation\":256,\"mountPoints\":[],\"name\":\"xray-daemon\",\"portMappings\":[{\"containerPort\":2000,\"hostPort\":2000,\"protocol\":\"udp\"}],\"systemControls\":[],\"user\":\"1337\",\"volumesFrom\":[]}]",
            "cpu": "512",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::339712838104:role/ecs_task_execution_role",
            "family": "bookingapp-redis",
            "id": "bookingapp-redis",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "1024",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [
              {
                "container_name": "envoy",
                "properties": {
                  "AppPorts": "6379",
                  "EgressIgnoredIPs": "169.254.170.2,169.254.169.254",
                  "IgnoredUID": "1337",
                  "ProxyEgressPort": "15001",
                  "ProxyIngressPort": "15000"
                },
                "type": "APPMESH"
              }
            ],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 23,
            "runtime_platform": [
              {
                "cpu_architecture": "X86_64",
                "operating_system_family": "LINUX"
              }
            ],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::339712838104:role/ecs_task_role",
            "track_latest": false,
            "volume": []
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_cloudwatch_log_group.service_bookingapp-redis_log_group",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "data.template_file.bookingapp-redis",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "ECSTaskExecutionRole",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::339712838104:policy/ECSTaskExecutionRole",
            "attachment_count": 0,
            "description": "IAM role that allows your Amazon ECS container task to make calls to other AWS services.",
            "id": "arn:aws:iam::339712838104:policy/ECSTaskExecutionRole",
            "name": "ECSTaskExecutionRole",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAU6GDWRHMEF365S7FS",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "ecs-full",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::339712838104:policy/terraform-20240606120440644700000001",
            "attachment_count": 0,
            "description": "",
            "id": "arn:aws:iam::339712838104:policy/terraform-20240606120440644700000001",
            "name": "terraform-20240606120440644700000001",
            "name_prefix": "terraform-",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"application-autoscaling:DeleteScalingPolicy\",\"application-autoscaling:DeregisterScalableTarget\",\"application-autoscaling:DescribeScalableTargets\",\"application-autoscaling:DescribeScalingActivities\",\"application-autoscaling:DescribeScalingPolicies\",\"application-autoscaling:PutScalingPolicy\",\"application-autoscaling:RegisterScalableTarget\",\"appmesh:DescribeVirtualGateway\",\"appmesh:DescribeVirtualNode\",\"appmesh:ListMeshes\",\"appmesh:ListVirtualGateways\",\"appmesh:ListVirtualNodes\",\"autoscaling:CreateAutoScalingGroup\",\"autoscaling:CreateLaunchConfiguration\",\"autoscaling:DeleteAutoScalingGroup\",\"autoscaling:DeleteLaunchConfiguration\",\"autoscaling:Describe*\",\"autoscaling:UpdateAutoScalingGroup\",\"cloudformation:CreateStack\",\"cloudformation:DeleteStack\",\"cloudformation:DescribeStack*\",\"cloudformation:UpdateStack\",\"cloudwatch:DeleteAlarms\",\"cloudwatch:DescribeAlarms\",\"cloudwatch:GetMetricStatistics\",\"cloudwatch:PutMetricAlarm\",\"codedeploy:BatchGetApplicationRevisions\",\"codedeploy:BatchGetApplications\",\"codedeploy:BatchGetDeploymentGroups\",\"codedeploy:BatchGetDeployments\",\"codedeploy:ContinueDeployment\",\"codedeploy:CreateApplication\",\"codedeploy:CreateDeployment\",\"codedeploy:CreateDeploymentGroup\",\"codedeploy:GetApplication\",\"codedeploy:GetApplicationRevision\",\"codedeploy:GetDeployment\",\"codedeploy:GetDeploymentConfig\",\"codedeploy:GetDeploymentGroup\",\"codedeploy:GetDeploymentTarget\",\"codedeploy:ListApplicationRevisions\",\"codedeploy:ListApplications\",\"codedeploy:ListDeploymentConfigs\",\"codedeploy:ListDeploymentGroups\",\"codedeploy:ListDeployments\",\"codedeploy:ListDeploymentTargets\",\"codedeploy:RegisterApplicationRevision\",\"codedeploy:StopDeployment\",\"ec2:AssociateRouteTable\",\"ec2:AttachInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:CancelSpotFleetRequests\",\"ec2:CreateInternetGateway\",\"ec2:CreateLaunchTemplate\",\"ec2:CreateRoute\",\"ec2:CreateRouteTable\",\"ec2:CreateSecurityGroup\",\"ec2:CreateSubnet\",\"ec2:CreateVpc\",\"ec2:DeleteLaunchTemplate\",\"ec2:DeleteSubnet\",\"ec2:DeleteVpc\",\"ec2:Describe*\",\"ec2:DetachInternetGateway\",\"ec2:DisassociateRouteTable\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifyVpcAttribute\",\"ec2:RequestSpotFleet\",\"ec2:RunInstances\",\"ecs:*\",\"elasticfilesystem:DescribeAccessPoints\",\"elasticfilesystem:DescribeFileSystems\",\"elasticloadbalancing:CreateListener\",\"elasticloadbalancing:CreateLoadBalancer\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:CreateTargetGroup\",\"elasticloadbalancing:DeleteListener\",\"elasticloadbalancing:DeleteLoadBalancer\",\"elasticloadbalancing:DeleteRule\",\"elasticloadbalancing:DeleteTargetGroup\",\"elasticloadbalancing:DescribeListeners\",\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeRules\",\"elasticloadbalancing:DescribeTargetGroups\",\"events:DeleteRule\",\"events:DescribeRule\",\"events:ListRuleNamesByTarget\",\"events:ListTargetsByRule\",\"events:PutRule\",\"events:PutTargets\",\"events:RemoveTargets\",\"fsx:DescribeFileSystems\",\"iam:ListAttachedRolePolicies\",\"iam:ListInstanceProfiles\",\"iam:ListRoles\",\"lambda:ListFunctions\",\"logs:CreateLogGroup\",\"logs:DescribeLogGroups\",\"logs:FilterLogEvents\",\"route53:CreateHostedZone\",\"route53:DeleteHostedZone\",\"route53:GetHealthCheck\",\"route53:GetHostedZone\",\"route53:ListHostedZonesByName\",\"servicediscovery:CreatePrivateDnsNamespace\",\"servicediscovery:CreateService\",\"servicediscovery:DeleteService\",\"servicediscovery:GetNamespace\",\"servicediscovery:GetOperation\",\"servicediscovery:GetService\",\"servicediscovery:ListNamespaces\",\"servicediscovery:ListServices\",\"servicediscovery:UpdateService\",\"sns:ListTopics\",\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\",\"cloudwatch:*\",\"logs:*\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"appmesh:StreamAggregatedResources\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:appmesh:us-east-1:339712838104:mesh/bookingapp-mess/virtualNode*\"]},{\"Action\":[\"xray:PutTraceSegments\",\"xray:PutTelemetryRecords\",\"xray:GetSamplingRules\",\"xray:GetSamplingTargets\",\"xray:GetSamplingStatisticSummaries\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ssm:GetParameter\",\"ssm:GetParameters\",\"ssm:GetParametersByPath\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ssm:*:*:parameter/aws/service/ecs*\"},{\"Action\":[\"ec2:DeleteInternetGateway\",\"ec2:DeleteRoute\",\"ec2:DeleteRouteTable\",\"ec2:DeleteSecurityGroup\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/aws:cloudformation:stack-name\":\"EC2ContainerService-*\"}},\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"iam:PassRole\",\"Condition\":{\"StringLike\":{\"iam:PassedToService\":\"ecs-tasks.amazonaws.com\"}},\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"iam:PassRole\",\"Condition\":{\"StringLike\":{\"iam:PassedToService\":[\"ec2.amazonaws.com\",\"ec2.amazonaws.com.cn\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::*:role/ecsInstanceRole*\"]},{\"Action\":\"iam:PassRole\",\"Condition\":{\"StringLike\":{\"iam:PassedToService\":[\"application-autoscaling.amazonaws.com\",\"application-autoscaling.amazonaws.com.cn\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::*:role/ecsAutoscaleRole*\"]},{\"Action\":\"iam:CreateServiceLinkedRole\",\"Condition\":{\"StringLike\":{\"iam:AWSServiceName\":[\"autoscaling.amazonaws.com\",\"ecs.amazonaws.com\",\"ecs.application-autoscaling.amazonaws.com\",\"spot.amazonaws.com\",\"spotfleet.amazonaws.com\"]}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:AddTags\"],\"Condition\":{\"StringEquals\":{\"elasticloadbalancing:CreateAction\":[\"CreateTargetGroup\",\"CreateRule\",\"CreateListener\",\"CreateLoadBalancer\"]}},\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAU6GDWRHMO7VF2A3UF",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "cicd_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::339712838104:role/codebuild_role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"codebuild.amazonaws.com\",\"codedeploy.amazonaws.com\",\"codepipeline.amazonaws.com\",\"ecs-tasks.amazonaws.com\"]},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-06-06T12:04:42Z",
            "description": "",
            "force_detach_policies": false,
            "id": "codebuild_role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AWSCodeCommitPowerUser",
              "arn:aws:iam::aws:policy/AmazonECS_FullAccess"
            ],
            "max_session_duration": 3600,
            "name": "codebuild_role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAU6GDWRHMK53CQ7AR3"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ecs_task_execution_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::339712838104:role/ecs_task_execution_role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"ecs-tasks.amazonaws.com\"]},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-06-06T12:04:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ecs_task_execution_role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess",
              "arn:aws:iam::aws:policy/CloudWatchFullAccess"
            ],
            "max_session_duration": 3600,
            "name": "ecs_task_execution_role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAU6GDWRHMBXDU4QR7X"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ecs_task_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::339712838104:role/ecs_task_role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"ecs-tasks.amazonaws.com\"]},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-06-06T12:04:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ecs_task_role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess",
              "arn:aws:iam::aws:policy/CloudWatchFullAccess"
            ],
            "max_session_duration": 3600,
            "name": "ecs_task_role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAU6GDWRHMJQQ4ECIQY"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "codebuild_role:terraform-20240606120443214400000002",
            "name": "terraform-20240606120443214400000002",
            "name_prefix": "terraform-",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sns:Publish\",\"sns:ListTopics\",\"s3:*\",\"opsworks:DescribeStacks\",\"opsworks:DescribeLayers\",\"opsworks:DescribeApps\",\"logs:*\",\"lambda:ListFunctions\",\"lambda:InvokeFunction\",\"iam:ListRoles\",\"iam:GetRole\",\"events:*\",\"elasticloadbalancing:*\",\"elasticfilesystem:DescribeFileSystems\",\"ecs:*\",\"ecr:*\",\"ec2:*\",\"codepipeline:*\",\"codedeploy:*\",\"codecommit:*\",\"codebuild:*\",\"cloudwatch:*\",\"cloudtrail:DescribeTrails\",\"cloudformation:ListStacks\",\"cloudformation:ListChangeSets\",\"cloudformation:DescribeStacks\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}",
            "role": "codebuild_role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.cicd_role",
            "data.aws_iam_policy_document.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "test-attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ecs_task_execution_role-20240606120444568500000004",
            "policy_arn": "arn:aws:iam::339712838104:policy/terraform-20240606120440644700000001",
            "role": "ecs_task_execution_role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.ecs-full",
            "aws_iam_role.ecs_task_execution_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "test-attach2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ecs_task_role-20240606120444466200000003",
            "policy_arn": "arn:aws:iam::339712838104:policy/terraform-20240606120440644700000001",
            "role": "ecs_task_role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.ecs-full",
            "aws_iam_role.ecs_task_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "codepipeline_bucket",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::s3-bucket-jtoyu9",
            "bucket": "s3-bucket-jtoyu9",
            "bucket_domain_name": "s3-bucket-jtoyu9.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "s3-bucket-jtoyu9.s3.us-east-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [
              {
                "id": "e4e5455c9b58e95a4e2aa27ad29608119772779f84aa244b0d19f7762aa2b2a6",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "s3-bucket-jtoyu9",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "random_string.random"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_private_dns_namespace",
      "name": "local_sd_dns",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:us-east-1:339712838104:namespace/ns-zxfueey2bg23brjc",
            "description": "microservices ' private service discovery ",
            "hosted_zone": "Z00039603NIJHXWRPO2UL",
            "id": "ns-zxfueey2bg23brjc",
            "name": "internal-bookingapp.com",
            "tags": null,
            "tags_all": {},
            "vpc": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "bookingapp-home",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:us-east-1:339712838104:service/srv-xgm3sqo6g4yn62ve",
            "description": "",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-zxfueey2bg23brjc",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-xgm3sqo6g4yn62ve",
            "name": "home",
            "namespace_id": "ns-zxfueey2bg23brjc",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "bookingapp-movie",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:us-east-1:339712838104:service/srv-zvpvsedo2t376oxt",
            "description": "",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-zxfueey2bg23brjc",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-zvpvsedo2t376oxt",
            "name": "movie",
            "namespace_id": "ns-zxfueey2bg23brjc",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "bookingapp-movie2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:us-east-1:339712838104:service/srv-o4bbldr3rdyfpuvm",
            "description": "",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-zxfueey2bg23brjc",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-o4bbldr3rdyfpuvm",
            "name": "movie2",
            "namespace_id": "ns-zxfueey2bg23brjc",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "bookingapp-redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:us-east-1:339712838104:service/srv-5bg3nggkc5mb6xpb",
            "description": "",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-zxfueey2bg23brjc",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-5bg3nggkc5mb6xpb",
            "name": "redis",
            "namespace_id": "ns-zxfueey2bg23brjc",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_string",
      "name": "random",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "jtoyu9",
            "keepers": null,
            "length": 6,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": null,
            "result": "jtoyu9",
            "special": false,
            "upper": false
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.alb",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.alb",
      "mode": "managed",
      "type": "aws_lb",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:us-east-1:339712838104:loadbalancer/app/microservices-alb/7c314e51e3ce3c6b",
            "arn_suffix": "app/microservices-alb/7c314e51e3ce3c6b",
            "client_keep_alive": 3600,
            "connection_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "customer_owned_ipv4_pool": "",
            "desync_mitigation_mode": "defensive",
            "dns_name": "microservices-alb-2112802225.us-east-1.elb.amazonaws.com",
            "dns_record_client_routing_policy": null,
            "drop_invalid_header_fields": true,
            "enable_cross_zone_load_balancing": true,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "enable_tls_version_and_cipher_suite_headers": false,
            "enable_waf_fail_open": false,
            "enable_xff_client_port": false,
            "enforce_security_group_inbound_rules_on_private_link_traffic": "",
            "id": "arn:aws:elasticloadbalancing:us-east-1:339712838104:loadbalancer/app/microservices-alb/7c314e51e3ce3c6b",
            "idle_timeout": 60,
            "internal": false,
            "ip_address_type": "ipv4",
            "load_balancer_type": "application",
            "name": "microservices-alb",
            "name_prefix": "",
            "preserve_host_header": false,
            "security_groups": [
              "sg-050f3dfe483f3297c",
              "sg-0af6da3da53f0dbe1"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-06ecdafd1b1f7a75d"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0ac7bd94e328708a8"
              }
            ],
            "subnets": [
              "subnet-06ecdafd1b1f7a75d",
              "subnet-0ac7bd94e328708a8"
            ],
            "tags": {
              "name": "aws-ecs-nginx-lb",
              "terraform-aws-modules": "alb"
            },
            "tags_all": {
              "name": "aws-ecs-nginx-lb",
              "terraform-aws-modules": "alb"
            },
            "timeouts": {
              "create": null,
              "delete": null,
              "update": null
            },
            "vpc_id": "vpc-021db5b72276d098e",
            "xff_header_processing_mode": "append",
            "zone_id": "Z35SXDOTRQ7X7K"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.alb-secgroup.aws_security_group.this",
            "module.alb-secgroup.aws_security_group.this_name_prefix",
            "module.alb.aws_security_group.this",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.alb",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "my-http-listener",
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:us-east-1:339712838104:listener/app/microservices-alb/7c314e51e3ce3c6b/6a877f002ffa4451",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [
                  {
                    "content_type": "text/plain",
                    "message_body": "Fixed Static message - for Root Context",
                    "status_code": "200"
                  }
                ],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "",
                "type": "fixed-response"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:339712838104:listener/app/microservices-alb/7c314e51e3ce3c6b/6a877f002ffa4451",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:339712838104:loadbalancer/app/microservices-alb/7c314e51e3ce3c6b",
            "mutual_authentication": [],
            "port": 80,
            "protocol": "HTTP",
            "ssl_policy": "",
            "tags": {
              "name": "aws-ecs-nginx-lb",
              "terraform-aws-modules": "alb"
            },
            "tags_all": {
              "name": "aws-ecs-nginx-lb",
              "terraform-aws-modules": "alb"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.alb-secgroup.aws_security_group.this",
            "module.alb-secgroup.aws_security_group.this_name_prefix",
            "module.alb.aws_lb.this",
            "module.alb.aws_lb_target_group.this",
            "module.alb.aws_security_group.this",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.alb",
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "my-http-listener/home-rule",
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [
                  {
                    "stickiness": [
                      {
                        "duration": 3600,
                        "enabled": true
                      }
                    ],
                    "target_group": [
                      {
                        "arn": "arn:aws:elasticloadbalancing:us-east-1:339712838104:targetgroup/home-2024060612045764320000000a/207adba5bf5a8227",
                        "weight": 1
                      }
                    ]
                  }
                ],
                "order": 1,
                "redirect": [],
                "target_group_arn": "",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:us-east-1:339712838104:listener-rule/app/microservices-alb/7c314e51e3ce3c6b/6a877f002ffa4451/296298c546e57e37",
            "condition": [
              {
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/home*"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:339712838104:listener-rule/app/microservices-alb/7c314e51e3ce3c6b/6a877f002ffa4451/296298c546e57e37",
            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:339712838104:listener/app/microservices-alb/7c314e51e3ce3c6b/6a877f002ffa4451",
            "priority": 1,
            "tags": {
              "name": "aws-ecs-nginx-lb",
              "terraform-aws-modules": "alb"
            },
            "tags_all": {
              "name": "aws-ecs-nginx-lb",
              "terraform-aws-modules": "alb"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.alb-secgroup.aws_security_group.this",
            "module.alb-secgroup.aws_security_group.this_name_prefix",
            "module.alb.aws_lb.this",
            "module.alb.aws_lb_listener.this",
            "module.alb.aws_lb_target_group.this",
            "module.alb.aws_security_group.this",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.alb",
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "home",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:us-east-1:339712838104:targetgroup/home-2024060612045764320000000a/207adba5bf5a8227",
            "arn_suffix": "targetgroup/home-2024060612045764320000000a/207adba5bf5a8227",
            "connection_termination": null,
            "deregistration_delay": "10",
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 2,
                "interval": 30,
                "matcher": "200-399",
                "path": "/healthcheck",
                "port": "traffic-port",
                "protocol": "HTTP",
                "timeout": 6,
                "unhealthy_threshold": 2
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:339712838104:targetgroup/home-2024060612045764320000000a/207adba5bf5a8227",
            "ip_address_type": "ipv4",
            "lambda_multi_value_headers_enabled": false,
            "load_balancer_arns": [],
            "load_balancing_algorithm_type": "round_robin",
            "load_balancing_anomaly_mitigation": "off",
            "load_balancing_cross_zone_enabled": "false",
            "name": "home-2024060612045764320000000a",
            "name_prefix": "home-",
            "port": 80,
            "preserve_client_ip": null,
            "protocol": "HTTP",
            "protocol_version": "HTTP1",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "cookie_name": "",
                "enabled": false,
                "type": "lb_cookie"
              }
            ],
            "tags": {
              "name": "target group for alb",
              "terraform-aws-modules": "alb"
            },
            "tags_all": {
              "name": "target group for alb",
              "terraform-aws-modules": "alb"
            },
            "target_failover": [
              {
                "on_deregistration": null,
                "on_unhealthy": null
              }
            ],
            "target_health_state": [
              {
                "enable_unhealthy_connection_termination": null
              }
            ],
            "target_type": "ip",
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.alb",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:security-group/sg-050f3dfe483f3297c",
            "description": "Security group for microservices-alb application load balancer",
            "egress": [],
            "id": "sg-050f3dfe483f3297c",
            "ingress": [],
            "name": "microservices-alb-20240606120457555200000009",
            "name_prefix": "microservices-alb-",
            "owner_id": "339712838104",
            "revoke_rules_on_delete": false,
            "tags": {
              "name": "aws-ecs-nginx-lb",
              "terraform-aws-modules": "alb"
            },
            "tags_all": {
              "name": "aws-ecs-nginx-lb",
              "terraform-aws-modules": "alb"
            },
            "timeouts": null,
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.alb-secgroup",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "this_name_prefix",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:security-group/sg-0af6da3da53f0dbe1",
            "description": "Security group which is used as an argument in complete-sg",
            "egress": [],
            "id": "sg-0af6da3da53f0dbe1",
            "ingress": [],
            "name": "alb-sg-2024060612045809330000000c",
            "name_prefix": "alb-sg-",
            "owner_id": "339712838104",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "alb-sg",
              "name": "ALB Security Group"
            },
            "tags_all": {
              "Name": "alb-sg",
              "name": "ALB Security Group"
            },
            "timeouts": {
              "create": "10m",
              "delete": "15m"
            },
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.alb-secgroup",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "egress_rules",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "All protocols",
            "from_port": -1,
            "id": "sgrule-3293996793",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0af6da3da53f0dbe1",
            "security_group_rule_id": "",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": -1,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.alb-secgroup.aws_security_group.this",
            "module.alb-secgroup.aws_security_group.this_name_prefix",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.alb-secgroup",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ingress_rules",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "HTTP",
            "from_port": 80,
            "id": "sgrule-2005401364",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0af6da3da53f0dbe1",
            "security_group_rule_id": "sgr-0e33f14d3ea30e7e7",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": 80,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.alb-secgroup.aws_security_group.this",
            "module.alb-secgroup.aws_security_group.this_name_prefix",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-home",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "339712838104",
            "arn": "arn:aws:iam::339712838104:user/MySideKid",
            "id": "339712838104",
            "user_id": "AIDAU6GDWRHMM4ZRYBLVO"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-home",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-home",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-home",
      "mode": "managed",
      "type": "aws_appautoscaling_policy",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "cpu",
          "schema_version": 0,
          "attributes": {
            "alarm_arns": [
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-home-AlarmHigh-cc4cf413-868c-4fb4-a405-74fa1d8bad59",
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-home-AlarmLow-f02f6e0f-ca7f-4463-bbd4-1114320354ef"
            ],
            "arn": "arn:aws:autoscaling:us-east-1:339712838104:scalingPolicy:be15aa01-2587-42b4-a633-7e8e5180b2f4:resource/ecs/service/bookingapp-cluster/bookingapp-home:policyName/cpu",
            "id": "cpu",
            "name": "cpu",
            "policy_type": "TargetTrackingScaling",
            "resource_id": "service/bookingapp-cluster/bookingapp-home",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [],
            "target_tracking_scaling_policy_configuration": [
              {
                "customized_metric_specification": [],
                "disable_scale_in": false,
                "predefined_metric_specification": [
                  {
                    "predefined_metric_type": "ECSServiceAverageCPUUtilization",
                    "resource_label": ""
                  }
                ],
                "scale_in_cooldown": 300,
                "scale_out_cooldown": 60,
                "target_value": 75
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-home",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_router.movie-vrouter",
            "aws_appmesh_virtual_service.movie",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-home_log_group",
            "aws_ecs_task_definition.bookingapp-home",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-home",
            "data.template_file.bookingapp-home",
            "module.alb.aws_lb_target_group.this",
            "module.bookingapp-home-sec.aws_security_group.this",
            "module.bookingapp-home-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-home.aws_appautoscaling_target.this",
            "module.bookingapp-home.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-home.aws_ecs_service.this",
            "module.bookingapp-home.aws_ecs_task_definition.this",
            "module.bookingapp-home.aws_iam_policy.service",
            "module.bookingapp-home.aws_iam_policy.task_exec",
            "module.bookingapp-home.aws_iam_role.service",
            "module.bookingapp-home.aws_iam_role.task_exec",
            "module.bookingapp-home.aws_iam_role.tasks",
            "module.bookingapp-home.aws_iam_role_policy_attachment.service",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-home.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-home.aws_security_group.this",
            "module.bookingapp-home.data.aws_caller_identity.current",
            "module.bookingapp-home.data.aws_ecs_task_definition.this",
            "module.bookingapp-home.data.aws_iam_policy_document.service",
            "module.bookingapp-home.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-home.data.aws_partition.current",
            "module.bookingapp-home.data.aws_region.current",
            "module.bookingapp-home.data.aws_subnet.this",
            "module.bookingapp-home.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-home.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_cloudwatch_log_group.flow_log",
            "module.vpc.aws_customer_gateway.this",
            "module.vpc.aws_db_subnet_group.database",
            "module.vpc.aws_default_network_acl.this",
            "module.vpc.aws_default_route_table.default",
            "module.vpc.aws_default_security_group.this",
            "module.vpc.aws_default_vpc.this",
            "module.vpc.aws_egress_only_internet_gateway.this",
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_elasticache_subnet_group.elasticache",
            "module.vpc.aws_flow_log.this",
            "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_network_acl.database",
            "module.vpc.aws_network_acl.elasticache",
            "module.vpc.aws_network_acl.intra",
            "module.vpc.aws_network_acl.outpost",
            "module.vpc.aws_network_acl.private",
            "module.vpc.aws_network_acl.public",
            "module.vpc.aws_network_acl.redshift",
            "module.vpc.aws_network_acl_rule.database_inbound",
            "module.vpc.aws_network_acl_rule.database_outbound",
            "module.vpc.aws_network_acl_rule.elasticache_inbound",
            "module.vpc.aws_network_acl_rule.elasticache_outbound",
            "module.vpc.aws_network_acl_rule.intra_inbound",
            "module.vpc.aws_network_acl_rule.intra_outbound",
            "module.vpc.aws_network_acl_rule.outpost_inbound",
            "module.vpc.aws_network_acl_rule.outpost_outbound",
            "module.vpc.aws_network_acl_rule.private_inbound",
            "module.vpc.aws_network_acl_rule.private_outbound",
            "module.vpc.aws_network_acl_rule.public_inbound",
            "module.vpc.aws_network_acl_rule.public_outbound",
            "module.vpc.aws_network_acl_rule.redshift_inbound",
            "module.vpc.aws_network_acl_rule.redshift_outbound",
            "module.vpc.aws_redshift_subnet_group.redshift",
            "module.vpc.aws_route.database_dns64_nat_gateway",
            "module.vpc.aws_route.database_internet_gateway",
            "module.vpc.aws_route.database_ipv6_egress",
            "module.vpc.aws_route.database_nat_gateway",
            "module.vpc.aws_route.private_dns64_nat_gateway",
            "module.vpc.aws_route.private_ipv6_egress",
            "module.vpc.aws_route.private_nat_gateway",
            "module.vpc.aws_route.public_internet_gateway",
            "module.vpc.aws_route.public_internet_gateway_ipv6",
            "module.vpc.aws_route_table.database",
            "module.vpc.aws_route_table.elasticache",
            "module.vpc.aws_route_table.intra",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_route_table.redshift",
            "module.vpc.aws_route_table_association.database",
            "module.vpc.aws_route_table_association.elasticache",
            "module.vpc.aws_route_table_association.intra",
            "module.vpc.aws_route_table_association.outpost",
            "module.vpc.aws_route_table_association.private",
            "module.vpc.aws_route_table_association.public",
            "module.vpc.aws_route_table_association.redshift",
            "module.vpc.aws_route_table_association.redshift_public",
            "module.vpc.aws_subnet.database",
            "module.vpc.aws_subnet.elasticache",
            "module.vpc.aws_subnet.intra",
            "module.vpc.aws_subnet.outpost",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_subnet.redshift",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_dhcp_options.this",
            "module.vpc.aws_vpc_dhcp_options_association.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "module.vpc.aws_vpn_gateway.this",
            "module.vpc.aws_vpn_gateway_attachment.this",
            "module.vpc.aws_vpn_gateway_route_propagation.intra",
            "module.vpc.aws_vpn_gateway_route_propagation.private",
            "module.vpc.aws_vpn_gateway_route_propagation.public",
            "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
            "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch"
          ]
        },
        {
          "index_key": "memory",
          "schema_version": 0,
          "attributes": {
            "alarm_arns": [
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-home-AlarmHigh-b60b7822-9af5-4561-8eb7-b90cd87701d4",
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-home-AlarmLow-c8673441-dce0-43f0-8a9d-02d8c1b91ed9"
            ],
            "arn": "arn:aws:autoscaling:us-east-1:339712838104:scalingPolicy:be15aa01-2587-42b4-a633-7e8e5180b2f4:resource/ecs/service/bookingapp-cluster/bookingapp-home:policyName/memory",
            "id": "memory",
            "name": "memory",
            "policy_type": "TargetTrackingScaling",
            "resource_id": "service/bookingapp-cluster/bookingapp-home",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [],
            "target_tracking_scaling_policy_configuration": [
              {
                "customized_metric_specification": [],
                "disable_scale_in": false,
                "predefined_metric_specification": [
                  {
                    "predefined_metric_type": "ECSServiceAverageMemoryUtilization",
                    "resource_label": ""
                  }
                ],
                "scale_in_cooldown": 300,
                "scale_out_cooldown": 60,
                "target_value": 75
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-home",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_router.movie-vrouter",
            "aws_appmesh_virtual_service.movie",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-home_log_group",
            "aws_ecs_task_definition.bookingapp-home",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-home",
            "data.template_file.bookingapp-home",
            "module.alb.aws_lb_target_group.this",
            "module.bookingapp-home-sec.aws_security_group.this",
            "module.bookingapp-home-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-home.aws_appautoscaling_target.this",
            "module.bookingapp-home.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-home.aws_ecs_service.this",
            "module.bookingapp-home.aws_ecs_task_definition.this",
            "module.bookingapp-home.aws_iam_policy.service",
            "module.bookingapp-home.aws_iam_policy.task_exec",
            "module.bookingapp-home.aws_iam_role.service",
            "module.bookingapp-home.aws_iam_role.task_exec",
            "module.bookingapp-home.aws_iam_role.tasks",
            "module.bookingapp-home.aws_iam_role_policy_attachment.service",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-home.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-home.aws_security_group.this",
            "module.bookingapp-home.data.aws_caller_identity.current",
            "module.bookingapp-home.data.aws_ecs_task_definition.this",
            "module.bookingapp-home.data.aws_iam_policy_document.service",
            "module.bookingapp-home.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-home.data.aws_partition.current",
            "module.bookingapp-home.data.aws_region.current",
            "module.bookingapp-home.data.aws_subnet.this",
            "module.bookingapp-home.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-home.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_cloudwatch_log_group.flow_log",
            "module.vpc.aws_customer_gateway.this",
            "module.vpc.aws_db_subnet_group.database",
            "module.vpc.aws_default_network_acl.this",
            "module.vpc.aws_default_route_table.default",
            "module.vpc.aws_default_security_group.this",
            "module.vpc.aws_default_vpc.this",
            "module.vpc.aws_egress_only_internet_gateway.this",
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_elasticache_subnet_group.elasticache",
            "module.vpc.aws_flow_log.this",
            "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_network_acl.database",
            "module.vpc.aws_network_acl.elasticache",
            "module.vpc.aws_network_acl.intra",
            "module.vpc.aws_network_acl.outpost",
            "module.vpc.aws_network_acl.private",
            "module.vpc.aws_network_acl.public",
            "module.vpc.aws_network_acl.redshift",
            "module.vpc.aws_network_acl_rule.database_inbound",
            "module.vpc.aws_network_acl_rule.database_outbound",
            "module.vpc.aws_network_acl_rule.elasticache_inbound",
            "module.vpc.aws_network_acl_rule.elasticache_outbound",
            "module.vpc.aws_network_acl_rule.intra_inbound",
            "module.vpc.aws_network_acl_rule.intra_outbound",
            "module.vpc.aws_network_acl_rule.outpost_inbound",
            "module.vpc.aws_network_acl_rule.outpost_outbound",
            "module.vpc.aws_network_acl_rule.private_inbound",
            "module.vpc.aws_network_acl_rule.private_outbound",
            "module.vpc.aws_network_acl_rule.public_inbound",
            "module.vpc.aws_network_acl_rule.public_outbound",
            "module.vpc.aws_network_acl_rule.redshift_inbound",
            "module.vpc.aws_network_acl_rule.redshift_outbound",
            "module.vpc.aws_redshift_subnet_group.redshift",
            "module.vpc.aws_route.database_dns64_nat_gateway",
            "module.vpc.aws_route.database_internet_gateway",
            "module.vpc.aws_route.database_ipv6_egress",
            "module.vpc.aws_route.database_nat_gateway",
            "module.vpc.aws_route.private_dns64_nat_gateway",
            "module.vpc.aws_route.private_ipv6_egress",
            "module.vpc.aws_route.private_nat_gateway",
            "module.vpc.aws_route.public_internet_gateway",
            "module.vpc.aws_route.public_internet_gateway_ipv6",
            "module.vpc.aws_route_table.database",
            "module.vpc.aws_route_table.elasticache",
            "module.vpc.aws_route_table.intra",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_route_table.redshift",
            "module.vpc.aws_route_table_association.database",
            "module.vpc.aws_route_table_association.elasticache",
            "module.vpc.aws_route_table_association.intra",
            "module.vpc.aws_route_table_association.outpost",
            "module.vpc.aws_route_table_association.private",
            "module.vpc.aws_route_table_association.public",
            "module.vpc.aws_route_table_association.redshift",
            "module.vpc.aws_route_table_association.redshift_public",
            "module.vpc.aws_subnet.database",
            "module.vpc.aws_subnet.elasticache",
            "module.vpc.aws_subnet.intra",
            "module.vpc.aws_subnet.outpost",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_subnet.redshift",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_dhcp_options.this",
            "module.vpc.aws_vpc_dhcp_options_association.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "module.vpc.aws_vpn_gateway.this",
            "module.vpc.aws_vpn_gateway_attachment.this",
            "module.vpc.aws_vpn_gateway_route_propagation.intra",
            "module.vpc.aws_vpn_gateway_route_propagation.private",
            "module.vpc.aws_vpn_gateway_route_propagation.public",
            "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
            "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-home",
      "mode": "managed",
      "type": "aws_appautoscaling_target",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:application-autoscaling:us-east-1:339712838104:scalable-target/0ec5be15aa01258742b4a6337e8e5180b2f4",
            "id": "service/bookingapp-cluster/bookingapp-home",
            "max_capacity": 2,
            "min_capacity": 1,
            "resource_id": "service/bookingapp-cluster/bookingapp-home",
            "role_arn": "arn:aws:iam::339712838104:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "tags": {
              "name": "ecs_service_home"
            },
            "tags_all": {
              "name": "ecs_service_home"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-home",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_router.movie-vrouter",
            "aws_appmesh_virtual_service.movie",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-home_log_group",
            "aws_ecs_task_definition.bookingapp-home",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-home",
            "data.template_file.bookingapp-home",
            "module.alb.aws_lb_target_group.this",
            "module.bookingapp-home-sec.aws_security_group.this",
            "module.bookingapp-home-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-home.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-home.aws_ecs_service.this",
            "module.bookingapp-home.aws_ecs_task_definition.this",
            "module.bookingapp-home.aws_iam_policy.service",
            "module.bookingapp-home.aws_iam_policy.task_exec",
            "module.bookingapp-home.aws_iam_role.service",
            "module.bookingapp-home.aws_iam_role.task_exec",
            "module.bookingapp-home.aws_iam_role.tasks",
            "module.bookingapp-home.aws_iam_role_policy_attachment.service",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-home.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-home.aws_security_group.this",
            "module.bookingapp-home.data.aws_caller_identity.current",
            "module.bookingapp-home.data.aws_ecs_task_definition.this",
            "module.bookingapp-home.data.aws_iam_policy_document.service",
            "module.bookingapp-home.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-home.data.aws_partition.current",
            "module.bookingapp-home.data.aws_region.current",
            "module.bookingapp-home.data.aws_subnet.this",
            "module.bookingapp-home.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-home.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_cloudwatch_log_group.flow_log",
            "module.vpc.aws_customer_gateway.this",
            "module.vpc.aws_db_subnet_group.database",
            "module.vpc.aws_default_network_acl.this",
            "module.vpc.aws_default_route_table.default",
            "module.vpc.aws_default_security_group.this",
            "module.vpc.aws_default_vpc.this",
            "module.vpc.aws_egress_only_internet_gateway.this",
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_elasticache_subnet_group.elasticache",
            "module.vpc.aws_flow_log.this",
            "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_network_acl.database",
            "module.vpc.aws_network_acl.elasticache",
            "module.vpc.aws_network_acl.intra",
            "module.vpc.aws_network_acl.outpost",
            "module.vpc.aws_network_acl.private",
            "module.vpc.aws_network_acl.public",
            "module.vpc.aws_network_acl.redshift",
            "module.vpc.aws_network_acl_rule.database_inbound",
            "module.vpc.aws_network_acl_rule.database_outbound",
            "module.vpc.aws_network_acl_rule.elasticache_inbound",
            "module.vpc.aws_network_acl_rule.elasticache_outbound",
            "module.vpc.aws_network_acl_rule.intra_inbound",
            "module.vpc.aws_network_acl_rule.intra_outbound",
            "module.vpc.aws_network_acl_rule.outpost_inbound",
            "module.vpc.aws_network_acl_rule.outpost_outbound",
            "module.vpc.aws_network_acl_rule.private_inbound",
            "module.vpc.aws_network_acl_rule.private_outbound",
            "module.vpc.aws_network_acl_rule.public_inbound",
            "module.vpc.aws_network_acl_rule.public_outbound",
            "module.vpc.aws_network_acl_rule.redshift_inbound",
            "module.vpc.aws_network_acl_rule.redshift_outbound",
            "module.vpc.aws_redshift_subnet_group.redshift",
            "module.vpc.aws_route.database_dns64_nat_gateway",
            "module.vpc.aws_route.database_internet_gateway",
            "module.vpc.aws_route.database_ipv6_egress",
            "module.vpc.aws_route.database_nat_gateway",
            "module.vpc.aws_route.private_dns64_nat_gateway",
            "module.vpc.aws_route.private_ipv6_egress",
            "module.vpc.aws_route.private_nat_gateway",
            "module.vpc.aws_route.public_internet_gateway",
            "module.vpc.aws_route.public_internet_gateway_ipv6",
            "module.vpc.aws_route_table.database",
            "module.vpc.aws_route_table.elasticache",
            "module.vpc.aws_route_table.intra",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_route_table.redshift",
            "module.vpc.aws_route_table_association.database",
            "module.vpc.aws_route_table_association.elasticache",
            "module.vpc.aws_route_table_association.intra",
            "module.vpc.aws_route_table_association.outpost",
            "module.vpc.aws_route_table_association.private",
            "module.vpc.aws_route_table_association.public",
            "module.vpc.aws_route_table_association.redshift",
            "module.vpc.aws_route_table_association.redshift_public",
            "module.vpc.aws_subnet.database",
            "module.vpc.aws_subnet.elasticache",
            "module.vpc.aws_subnet.intra",
            "module.vpc.aws_subnet.outpost",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_subnet.redshift",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_dhcp_options.this",
            "module.vpc.aws_vpc_dhcp_options_association.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "module.vpc.aws_vpn_gateway.this",
            "module.vpc.aws_vpn_gateway_attachment.this",
            "module.vpc.aws_vpn_gateway_route_propagation.intra",
            "module.vpc.aws_vpn_gateway_route_propagation.private",
            "module.vpc.aws_vpn_gateway_route_propagation.public",
            "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
            "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-home",
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:us-east-1:339712838104:cluster/bookingapp-cluster",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": true,
            "enable_execute_command": false,
            "force_new_deployment": true,
            "health_check_grace_period_seconds": 147,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:us-east-1:339712838104:service/bookingapp-cluster/bookingapp-home",
            "launch_type": "FARGATE",
            "load_balancer": [
              {
                "container_name": "home",
                "container_port": 5000,
                "elb_name": "",
                "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:339712838104:targetgroup/home-2024060612045764320000000a/207adba5bf5a8227"
              }
            ],
            "name": "bookingapp-home",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-0fa69c3be7a621211"
                ],
                "subnets": [
                  "subnet-03508af5e613f6e90",
                  "subnet-05e856183bcf990a2"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "NONE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:us-east-1:339712838104:service/srv-xgm3sqo6g4yn62ve"
              }
            ],
            "tags": {
              "ServiceTag": "Tag on service level",
              "name": "ecs_service_home"
            },
            "tags_all": {
              "ServiceTag": "Tag on service level",
              "name": "ecs_service_home"
            },
            "task_definition": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-home:40",
            "timeouts": {
              "create": null,
              "delete": null,
              "update": null
            },
            "triggers": {},
            "volume_configuration": [],
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-home",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_router.movie-vrouter",
            "aws_appmesh_virtual_service.movie",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-home_log_group",
            "aws_ecs_task_definition.bookingapp-home",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-home",
            "data.template_file.bookingapp-home",
            "module.alb.aws_lb_target_group.this",
            "module.bookingapp-home-sec.aws_security_group.this",
            "module.bookingapp-home-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-home.aws_ecs_task_definition.this",
            "module.bookingapp-home.aws_iam_policy.service",
            "module.bookingapp-home.aws_iam_policy.task_exec",
            "module.bookingapp-home.aws_iam_role.service",
            "module.bookingapp-home.aws_iam_role.task_exec",
            "module.bookingapp-home.aws_iam_role.tasks",
            "module.bookingapp-home.aws_iam_role_policy_attachment.service",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-home.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-home.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-home.aws_security_group.this",
            "module.bookingapp-home.data.aws_caller_identity.current",
            "module.bookingapp-home.data.aws_ecs_task_definition.this",
            "module.bookingapp-home.data.aws_iam_policy_document.service",
            "module.bookingapp-home.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-home.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-home.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-home.data.aws_partition.current",
            "module.bookingapp-home.data.aws_region.current",
            "module.bookingapp-home.data.aws_subnet.this",
            "module.bookingapp-home.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-home.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_cloudwatch_log_group.flow_log",
            "module.vpc.aws_customer_gateway.this",
            "module.vpc.aws_db_subnet_group.database",
            "module.vpc.aws_default_network_acl.this",
            "module.vpc.aws_default_route_table.default",
            "module.vpc.aws_default_security_group.this",
            "module.vpc.aws_default_vpc.this",
            "module.vpc.aws_egress_only_internet_gateway.this",
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_elasticache_subnet_group.elasticache",
            "module.vpc.aws_flow_log.this",
            "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
            "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_network_acl.database",
            "module.vpc.aws_network_acl.elasticache",
            "module.vpc.aws_network_acl.intra",
            "module.vpc.aws_network_acl.outpost",
            "module.vpc.aws_network_acl.private",
            "module.vpc.aws_network_acl.public",
            "module.vpc.aws_network_acl.redshift",
            "module.vpc.aws_network_acl_rule.database_inbound",
            "module.vpc.aws_network_acl_rule.database_outbound",
            "module.vpc.aws_network_acl_rule.elasticache_inbound",
            "module.vpc.aws_network_acl_rule.elasticache_outbound",
            "module.vpc.aws_network_acl_rule.intra_inbound",
            "module.vpc.aws_network_acl_rule.intra_outbound",
            "module.vpc.aws_network_acl_rule.outpost_inbound",
            "module.vpc.aws_network_acl_rule.outpost_outbound",
            "module.vpc.aws_network_acl_rule.private_inbound",
            "module.vpc.aws_network_acl_rule.private_outbound",
            "module.vpc.aws_network_acl_rule.public_inbound",
            "module.vpc.aws_network_acl_rule.public_outbound",
            "module.vpc.aws_network_acl_rule.redshift_inbound",
            "module.vpc.aws_network_acl_rule.redshift_outbound",
            "module.vpc.aws_redshift_subnet_group.redshift",
            "module.vpc.aws_route.database_dns64_nat_gateway",
            "module.vpc.aws_route.database_internet_gateway",
            "module.vpc.aws_route.database_ipv6_egress",
            "module.vpc.aws_route.database_nat_gateway",
            "module.vpc.aws_route.private_dns64_nat_gateway",
            "module.vpc.aws_route.private_ipv6_egress",
            "module.vpc.aws_route.private_nat_gateway",
            "module.vpc.aws_route.public_internet_gateway",
            "module.vpc.aws_route.public_internet_gateway_ipv6",
            "module.vpc.aws_route_table.database",
            "module.vpc.aws_route_table.elasticache",
            "module.vpc.aws_route_table.intra",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_route_table.redshift",
            "module.vpc.aws_route_table_association.database",
            "module.vpc.aws_route_table_association.elasticache",
            "module.vpc.aws_route_table_association.intra",
            "module.vpc.aws_route_table_association.outpost",
            "module.vpc.aws_route_table_association.private",
            "module.vpc.aws_route_table_association.public",
            "module.vpc.aws_route_table_association.redshift",
            "module.vpc.aws_route_table_association.redshift_public",
            "module.vpc.aws_subnet.database",
            "module.vpc.aws_subnet.elasticache",
            "module.vpc.aws_subnet.intra",
            "module.vpc.aws_subnet.outpost",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_subnet.redshift",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_dhcp_options.this",
            "module.vpc.aws_vpc_dhcp_options_association.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "module.vpc.aws_vpn_gateway.this",
            "module.vpc.aws_vpn_gateway_attachment.this",
            "module.vpc.aws_vpn_gateway_route_propagation.intra",
            "module.vpc.aws_vpn_gateway_route_propagation.private",
            "module.vpc.aws_vpn_gateway_route_propagation.public",
            "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
            "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-home-sec",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "this_name_prefix",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:security-group/sg-0fa69c3be7a621211",
            "description": "Security group which is used as an argument in complete-sg",
            "egress": [],
            "id": "sg-0fa69c3be7a621211",
            "ingress": [],
            "name": "bookingapp-home-2024060612045861710000000d",
            "name_prefix": "bookingapp-home-",
            "owner_id": "339712838104",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "bookingapp-home",
              "name": "Bookingapp-home Security Group"
            },
            "tags_all": {
              "Name": "bookingapp-home",
              "name": "Bookingapp-home Security Group"
            },
            "timeouts": {
              "create": "10m",
              "delete": "15m"
            },
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.bookingapp-home-sec",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "egress_rules",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "All protocols",
            "from_port": -1,
            "id": "sgrule-1458291151",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0fa69c3be7a621211",
            "security_group_rule_id": "",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": -1,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.bookingapp-home-sec.aws_security_group.this",
            "module.bookingapp-home-sec.aws_security_group.this_name_prefix",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-home-sec",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ingress_with_source_security_group_id",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "allow alb",
            "from_port": 5000,
            "id": "sgrule-1102579969",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0fa69c3be7a621211",
            "security_group_rule_id": "sgr-0e3d179cc2b708eca",
            "self": false,
            "source_security_group_id": "sg-0af6da3da53f0dbe1",
            "timeouts": null,
            "to_port": 5000,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.alb-secgroup.aws_security_group.this",
            "module.alb-secgroup.aws_security_group.this_name_prefix",
            "module.bookingapp-home-sec.aws_security_group.this",
            "module.bookingapp-home-sec.aws_security_group.this_name_prefix",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-movie",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "339712838104",
            "arn": "arn:aws:iam::339712838104:user/MySideKid",
            "id": "339712838104",
            "user_id": "AIDAU6GDWRHMM4ZRYBLVO"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-movie",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-movie",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-movie",
      "mode": "managed",
      "type": "aws_appautoscaling_policy",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "cpu",
          "schema_version": 0,
          "attributes": {
            "alarm_arns": [
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-movie-AlarmHigh-a5187765-8ced-4263-bddf-9b9f2a1469bb",
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-movie-AlarmLow-007f0f36-ec2b-47cc-a913-50dfa3135c3e"
            ],
            "arn": "arn:aws:autoscaling:us-east-1:339712838104:scalingPolicy:96cf150a-5558-43d3-a1a3-5bfe3975beb2:resource/ecs/service/bookingapp-cluster/bookingapp-movie:policyName/cpu",
            "id": "cpu",
            "name": "cpu",
            "policy_type": "TargetTrackingScaling",
            "resource_id": "service/bookingapp-cluster/bookingapp-movie",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [],
            "target_tracking_scaling_policy_configuration": [
              {
                "customized_metric_specification": [],
                "disable_scale_in": false,
                "predefined_metric_specification": [
                  {
                    "predefined_metric_type": "ECSServiceAverageCPUUtilization",
                    "resource_label": ""
                  }
                ],
                "scale_in_cooldown": 300,
                "scale_out_cooldown": 60,
                "target_value": 75
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie_log_group",
            "aws_ecs_task_definition.bookingapp-movie",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie",
            "data.template_file.bookingapp-movie",
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-movie.aws_appautoscaling_target.this",
            "module.bookingapp-movie.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-movie.aws_ecs_service.this",
            "module.bookingapp-movie.aws_ecs_task_definition.this",
            "module.bookingapp-movie.aws_iam_policy.service",
            "module.bookingapp-movie.aws_iam_policy.task_exec",
            "module.bookingapp-movie.aws_iam_role.service",
            "module.bookingapp-movie.aws_iam_role.task_exec",
            "module.bookingapp-movie.aws_iam_role.tasks",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.service",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-movie.aws_security_group.this",
            "module.bookingapp-movie.data.aws_caller_identity.current",
            "module.bookingapp-movie.data.aws_ecs_task_definition.this",
            "module.bookingapp-movie.data.aws_iam_policy_document.service",
            "module.bookingapp-movie.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-movie.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-movie.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-movie.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-movie.data.aws_partition.current",
            "module.bookingapp-movie.data.aws_region.current",
            "module.bookingapp-movie.data.aws_subnet.this",
            "module.bookingapp-movie.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-movie.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": "memory",
          "schema_version": 0,
          "attributes": {
            "alarm_arns": [
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-movie-AlarmHigh-1621d1d9-57bf-472d-a4e8-47298d17e8fc",
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-movie-AlarmLow-d437279d-e0ae-4f90-a9a6-9e46168b56b9"
            ],
            "arn": "arn:aws:autoscaling:us-east-1:339712838104:scalingPolicy:96cf150a-5558-43d3-a1a3-5bfe3975beb2:resource/ecs/service/bookingapp-cluster/bookingapp-movie:policyName/memory",
            "id": "memory",
            "name": "memory",
            "policy_type": "TargetTrackingScaling",
            "resource_id": "service/bookingapp-cluster/bookingapp-movie",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [],
            "target_tracking_scaling_policy_configuration": [
              {
                "customized_metric_specification": [],
                "disable_scale_in": false,
                "predefined_metric_specification": [
                  {
                    "predefined_metric_type": "ECSServiceAverageMemoryUtilization",
                    "resource_label": ""
                  }
                ],
                "scale_in_cooldown": 300,
                "scale_out_cooldown": 60,
                "target_value": 75
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie_log_group",
            "aws_ecs_task_definition.bookingapp-movie",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie",
            "data.template_file.bookingapp-movie",
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-movie.aws_appautoscaling_target.this",
            "module.bookingapp-movie.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-movie.aws_ecs_service.this",
            "module.bookingapp-movie.aws_ecs_task_definition.this",
            "module.bookingapp-movie.aws_iam_policy.service",
            "module.bookingapp-movie.aws_iam_policy.task_exec",
            "module.bookingapp-movie.aws_iam_role.service",
            "module.bookingapp-movie.aws_iam_role.task_exec",
            "module.bookingapp-movie.aws_iam_role.tasks",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.service",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-movie.aws_security_group.this",
            "module.bookingapp-movie.data.aws_caller_identity.current",
            "module.bookingapp-movie.data.aws_ecs_task_definition.this",
            "module.bookingapp-movie.data.aws_iam_policy_document.service",
            "module.bookingapp-movie.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-movie.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-movie.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-movie.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-movie.data.aws_partition.current",
            "module.bookingapp-movie.data.aws_region.current",
            "module.bookingapp-movie.data.aws_subnet.this",
            "module.bookingapp-movie.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-movie.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-movie",
      "mode": "managed",
      "type": "aws_appautoscaling_target",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:application-autoscaling:us-east-1:339712838104:scalable-target/0ec596cf150a555843d3a1a35bfe3975beb2",
            "id": "service/bookingapp-cluster/bookingapp-movie",
            "max_capacity": 2,
            "min_capacity": 1,
            "resource_id": "service/bookingapp-cluster/bookingapp-movie",
            "role_arn": "arn:aws:iam::339712838104:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "tags": {
              "name": "ecs_service_movie"
            },
            "tags_all": {
              "name": "ecs_service_movie"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie_log_group",
            "aws_ecs_task_definition.bookingapp-movie",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie",
            "data.template_file.bookingapp-movie",
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-movie.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-movie.aws_ecs_service.this",
            "module.bookingapp-movie.aws_ecs_task_definition.this",
            "module.bookingapp-movie.aws_iam_policy.service",
            "module.bookingapp-movie.aws_iam_policy.task_exec",
            "module.bookingapp-movie.aws_iam_role.service",
            "module.bookingapp-movie.aws_iam_role.task_exec",
            "module.bookingapp-movie.aws_iam_role.tasks",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.service",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-movie.aws_security_group.this",
            "module.bookingapp-movie.data.aws_caller_identity.current",
            "module.bookingapp-movie.data.aws_ecs_task_definition.this",
            "module.bookingapp-movie.data.aws_iam_policy_document.service",
            "module.bookingapp-movie.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-movie.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-movie.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-movie.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-movie.data.aws_partition.current",
            "module.bookingapp-movie.data.aws_region.current",
            "module.bookingapp-movie.data.aws_subnet.this",
            "module.bookingapp-movie.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-movie.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-movie",
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:us-east-1:339712838104:cluster/bookingapp-cluster",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 66,
            "desired_count": 1,
            "enable_ecs_managed_tags": true,
            "enable_execute_command": false,
            "force_new_deployment": true,
            "health_check_grace_period_seconds": 0,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:us-east-1:339712838104:service/bookingapp-cluster/bookingapp-movie",
            "launch_type": "FARGATE",
            "load_balancer": [],
            "name": "bookingapp-movie",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-078eadd554bad4147"
                ],
                "subnets": [
                  "subnet-03508af5e613f6e90",
                  "subnet-05e856183bcf990a2"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "NONE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:us-east-1:339712838104:service/srv-zvpvsedo2t376oxt"
              }
            ],
            "tags": {
              "ServiceTag": "Tag on service level",
              "name": "ecs_service_movie"
            },
            "tags_all": {
              "ServiceTag": "Tag on service level",
              "name": "ecs_service_movie"
            },
            "task_definition": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-movie:27",
            "timeouts": {
              "create": null,
              "delete": null,
              "update": null
            },
            "triggers": {},
            "volume_configuration": [],
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie_log_group",
            "aws_ecs_task_definition.bookingapp-movie",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie",
            "data.template_file.bookingapp-movie",
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-movie.aws_ecs_task_definition.this",
            "module.bookingapp-movie.aws_iam_policy.service",
            "module.bookingapp-movie.aws_iam_policy.task_exec",
            "module.bookingapp-movie.aws_iam_role.service",
            "module.bookingapp-movie.aws_iam_role.task_exec",
            "module.bookingapp-movie.aws_iam_role.tasks",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.service",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-movie.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-movie.aws_security_group.this",
            "module.bookingapp-movie.data.aws_caller_identity.current",
            "module.bookingapp-movie.data.aws_ecs_task_definition.this",
            "module.bookingapp-movie.data.aws_iam_policy_document.service",
            "module.bookingapp-movie.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-movie.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-movie.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-movie.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-movie.data.aws_partition.current",
            "module.bookingapp-movie.data.aws_region.current",
            "module.bookingapp-movie.data.aws_subnet.this",
            "module.bookingapp-movie.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-movie.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-movie-sec",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "this_name_prefix",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:security-group/sg-078eadd554bad4147",
            "description": "Security group which is used as an argument in complete-sg",
            "egress": [],
            "id": "sg-078eadd554bad4147",
            "ingress": [],
            "name": "bookingapp-home-2024060612045808880000000b",
            "name_prefix": "bookingapp-home-",
            "owner_id": "339712838104",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "bookingapp-home",
              "name": "Bookingapp-home Security Group"
            },
            "tags_all": {
              "Name": "bookingapp-home",
              "name": "Bookingapp-home Security Group"
            },
            "timeouts": {
              "create": "10m",
              "delete": "15m"
            },
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.bookingapp-movie-sec",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "egress_rules",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "All protocols",
            "from_port": -1,
            "id": "sgrule-486053625",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-078eadd554bad4147",
            "security_group_rule_id": "",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": -1,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-movie-sec",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ingress_with_source_security_group_id",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "allow alb",
            "from_port": 5000,
            "id": "sgrule-3050471609",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-078eadd554bad4147",
            "security_group_rule_id": "sgr-00549cf13cecb20fe",
            "self": false,
            "source_security_group_id": "sg-0fa69c3be7a621211",
            "timeouts": null,
            "to_port": 5000,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.bookingapp-home-sec.aws_security_group.this",
            "module.bookingapp-home-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-movie2",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "339712838104",
            "arn": "arn:aws:iam::339712838104:user/MySideKid",
            "id": "339712838104",
            "user_id": "AIDAU6GDWRHMM4ZRYBLVO"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-movie2",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-movie2",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-movie2",
      "mode": "managed",
      "type": "aws_appautoscaling_policy",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "cpu",
          "schema_version": 0,
          "attributes": {
            "alarm_arns": [
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-movie2-AlarmHigh-9735959e-2ff3-4b37-8aaf-a174f52247d2",
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-movie2-AlarmLow-0e9bcc5c-d16c-4550-a6e5-e04ca40d0b6e"
            ],
            "arn": "arn:aws:autoscaling:us-east-1:339712838104:scalingPolicy:d18374a0-d009-400c-8b3a-355b000a9723:resource/ecs/service/bookingapp-cluster/bookingapp-movie2:policyName/cpu",
            "id": "cpu",
            "name": "cpu",
            "policy_type": "TargetTrackingScaling",
            "resource_id": "service/bookingapp-cluster/bookingapp-movie2",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [],
            "target_tracking_scaling_policy_configuration": [
              {
                "customized_metric_specification": [],
                "disable_scale_in": false,
                "predefined_metric_specification": [
                  {
                    "predefined_metric_type": "ECSServiceAverageCPUUtilization",
                    "resource_label": ""
                  }
                ],
                "scale_in_cooldown": 300,
                "scale_out_cooldown": 60,
                "target_value": 75
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie2",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie2_log_group",
            "aws_ecs_task_definition.bookingapp-movie2",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie2",
            "data.template_file.bookingapp-movie2",
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-movie2.aws_appautoscaling_target.this",
            "module.bookingapp-movie2.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-movie2.aws_ecs_service.this",
            "module.bookingapp-movie2.aws_ecs_task_definition.this",
            "module.bookingapp-movie2.aws_iam_policy.service",
            "module.bookingapp-movie2.aws_iam_policy.task_exec",
            "module.bookingapp-movie2.aws_iam_role.service",
            "module.bookingapp-movie2.aws_iam_role.task_exec",
            "module.bookingapp-movie2.aws_iam_role.tasks",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.service",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-movie2.aws_security_group.this",
            "module.bookingapp-movie2.data.aws_caller_identity.current",
            "module.bookingapp-movie2.data.aws_ecs_task_definition.this",
            "module.bookingapp-movie2.data.aws_iam_policy_document.service",
            "module.bookingapp-movie2.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-movie2.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-movie2.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-movie2.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-movie2.data.aws_partition.current",
            "module.bookingapp-movie2.data.aws_region.current",
            "module.bookingapp-movie2.data.aws_subnet.this",
            "module.bookingapp-movie2.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-movie2.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": "memory",
          "schema_version": 0,
          "attributes": {
            "alarm_arns": [
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-movie2-AlarmHigh-f17ce614-971e-412f-a3a6-4a6cd81bcc66",
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-movie2-AlarmLow-6189727e-f882-4718-859f-e6c99642b011"
            ],
            "arn": "arn:aws:autoscaling:us-east-1:339712838104:scalingPolicy:d18374a0-d009-400c-8b3a-355b000a9723:resource/ecs/service/bookingapp-cluster/bookingapp-movie2:policyName/memory",
            "id": "memory",
            "name": "memory",
            "policy_type": "TargetTrackingScaling",
            "resource_id": "service/bookingapp-cluster/bookingapp-movie2",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [],
            "target_tracking_scaling_policy_configuration": [
              {
                "customized_metric_specification": [],
                "disable_scale_in": false,
                "predefined_metric_specification": [
                  {
                    "predefined_metric_type": "ECSServiceAverageMemoryUtilization",
                    "resource_label": ""
                  }
                ],
                "scale_in_cooldown": 300,
                "scale_out_cooldown": 60,
                "target_value": 75
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie2",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie2_log_group",
            "aws_ecs_task_definition.bookingapp-movie2",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie2",
            "data.template_file.bookingapp-movie2",
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-movie2.aws_appautoscaling_target.this",
            "module.bookingapp-movie2.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-movie2.aws_ecs_service.this",
            "module.bookingapp-movie2.aws_ecs_task_definition.this",
            "module.bookingapp-movie2.aws_iam_policy.service",
            "module.bookingapp-movie2.aws_iam_policy.task_exec",
            "module.bookingapp-movie2.aws_iam_role.service",
            "module.bookingapp-movie2.aws_iam_role.task_exec",
            "module.bookingapp-movie2.aws_iam_role.tasks",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.service",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-movie2.aws_security_group.this",
            "module.bookingapp-movie2.data.aws_caller_identity.current",
            "module.bookingapp-movie2.data.aws_ecs_task_definition.this",
            "module.bookingapp-movie2.data.aws_iam_policy_document.service",
            "module.bookingapp-movie2.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-movie2.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-movie2.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-movie2.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-movie2.data.aws_partition.current",
            "module.bookingapp-movie2.data.aws_region.current",
            "module.bookingapp-movie2.data.aws_subnet.this",
            "module.bookingapp-movie2.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-movie2.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-movie2",
      "mode": "managed",
      "type": "aws_appautoscaling_target",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:application-autoscaling:us-east-1:339712838104:scalable-target/0ec5d18374a0d009400c8b3a355b000a9723",
            "id": "service/bookingapp-cluster/bookingapp-movie2",
            "max_capacity": 2,
            "min_capacity": 1,
            "resource_id": "service/bookingapp-cluster/bookingapp-movie2",
            "role_arn": "arn:aws:iam::339712838104:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "tags": {
              "name": "ecs_service"
            },
            "tags_all": {
              "name": "ecs_service"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie2",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie2_log_group",
            "aws_ecs_task_definition.bookingapp-movie2",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie2",
            "data.template_file.bookingapp-movie2",
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-movie2.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-movie2.aws_ecs_service.this",
            "module.bookingapp-movie2.aws_ecs_task_definition.this",
            "module.bookingapp-movie2.aws_iam_policy.service",
            "module.bookingapp-movie2.aws_iam_policy.task_exec",
            "module.bookingapp-movie2.aws_iam_role.service",
            "module.bookingapp-movie2.aws_iam_role.task_exec",
            "module.bookingapp-movie2.aws_iam_role.tasks",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.service",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-movie2.aws_security_group.this",
            "module.bookingapp-movie2.data.aws_caller_identity.current",
            "module.bookingapp-movie2.data.aws_ecs_task_definition.this",
            "module.bookingapp-movie2.data.aws_iam_policy_document.service",
            "module.bookingapp-movie2.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-movie2.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-movie2.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-movie2.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-movie2.data.aws_partition.current",
            "module.bookingapp-movie2.data.aws_region.current",
            "module.bookingapp-movie2.data.aws_subnet.this",
            "module.bookingapp-movie2.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-movie2.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-movie2",
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:us-east-1:339712838104:cluster/bookingapp-cluster",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 66,
            "desired_count": 1,
            "enable_ecs_managed_tags": true,
            "enable_execute_command": false,
            "force_new_deployment": true,
            "health_check_grace_period_seconds": 0,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:us-east-1:339712838104:service/bookingapp-cluster/bookingapp-movie2",
            "launch_type": "FARGATE",
            "load_balancer": [],
            "name": "bookingapp-movie2",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-078eadd554bad4147"
                ],
                "subnets": [
                  "subnet-03508af5e613f6e90",
                  "subnet-05e856183bcf990a2"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "NONE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:us-east-1:339712838104:service/srv-o4bbldr3rdyfpuvm"
              }
            ],
            "tags": {
              "ServiceTag": "Tag on service level",
              "name": "ecs_service"
            },
            "tags_all": {
              "ServiceTag": "Tag on service level",
              "name": "ecs_service"
            },
            "task_definition": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-movie2:20",
            "timeouts": {
              "create": null,
              "delete": null,
              "update": null
            },
            "triggers": {},
            "volume_configuration": [],
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-movie2",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_appmesh_virtual_service.redis",
            "aws_cloudwatch_log_group.service_bookingapp-movie2_log_group",
            "aws_ecs_task_definition.bookingapp-movie2",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-movie2",
            "data.template_file.bookingapp-movie2",
            "module.bookingapp-movie-sec.aws_security_group.this",
            "module.bookingapp-movie-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-movie2.aws_ecs_task_definition.this",
            "module.bookingapp-movie2.aws_iam_policy.service",
            "module.bookingapp-movie2.aws_iam_policy.task_exec",
            "module.bookingapp-movie2.aws_iam_role.service",
            "module.bookingapp-movie2.aws_iam_role.task_exec",
            "module.bookingapp-movie2.aws_iam_role.tasks",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.service",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-movie2.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-movie2.aws_security_group.this",
            "module.bookingapp-movie2.data.aws_caller_identity.current",
            "module.bookingapp-movie2.data.aws_ecs_task_definition.this",
            "module.bookingapp-movie2.data.aws_iam_policy_document.service",
            "module.bookingapp-movie2.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-movie2.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-movie2.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-movie2.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-movie2.data.aws_partition.current",
            "module.bookingapp-movie2.data.aws_region.current",
            "module.bookingapp-movie2.data.aws_subnet.this",
            "module.bookingapp-movie2.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-movie2.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-redis",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "339712838104",
            "arn": "arn:aws:iam::339712838104:user/MySideKid",
            "id": "339712838104",
            "user_id": "AIDAU6GDWRHMM4ZRYBLVO"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-redis",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-redis",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.bookingapp-redis",
      "mode": "managed",
      "type": "aws_appautoscaling_policy",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "cpu",
          "schema_version": 0,
          "attributes": {
            "alarm_arns": [
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-redis-AlarmHigh-f98d6235-92b1-4115-b777-e88fd0c9f357",
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-redis-AlarmLow-fa55ada7-793e-44f9-b343-2bc82c628343"
            ],
            "arn": "arn:aws:autoscaling:us-east-1:339712838104:scalingPolicy:e3847997-8d4c-4255-a9f6-d365a3b7f222:resource/ecs/service/bookingapp-cluster/bookingapp-redis:policyName/cpu",
            "id": "cpu",
            "name": "cpu",
            "policy_type": "TargetTrackingScaling",
            "resource_id": "service/bookingapp-cluster/bookingapp-redis",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [],
            "target_tracking_scaling_policy_configuration": [
              {
                "customized_metric_specification": [],
                "disable_scale_in": false,
                "predefined_metric_specification": [
                  {
                    "predefined_metric_type": "ECSServiceAverageCPUUtilization",
                    "resource_label": ""
                  }
                ],
                "scale_in_cooldown": 300,
                "scale_out_cooldown": 60,
                "target_value": 75
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_cloudwatch_log_group.service_bookingapp-redis_log_group",
            "aws_ecs_task_definition.bookingapp-redis",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-redis",
            "data.template_file.bookingapp-redis",
            "module.bookingapp-redis-sec.aws_security_group.this",
            "module.bookingapp-redis-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-redis.aws_appautoscaling_target.this",
            "module.bookingapp-redis.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-redis.aws_ecs_service.this",
            "module.bookingapp-redis.aws_ecs_task_definition.this",
            "module.bookingapp-redis.aws_iam_policy.service",
            "module.bookingapp-redis.aws_iam_policy.task_exec",
            "module.bookingapp-redis.aws_iam_role.service",
            "module.bookingapp-redis.aws_iam_role.task_exec",
            "module.bookingapp-redis.aws_iam_role.tasks",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.service",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-redis.aws_security_group.this",
            "module.bookingapp-redis.data.aws_caller_identity.current",
            "module.bookingapp-redis.data.aws_ecs_task_definition.this",
            "module.bookingapp-redis.data.aws_iam_policy_document.service",
            "module.bookingapp-redis.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-redis.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-redis.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-redis.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-redis.data.aws_partition.current",
            "module.bookingapp-redis.data.aws_region.current",
            "module.bookingapp-redis.data.aws_subnet.this",
            "module.bookingapp-redis.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-redis.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": "memory",
          "schema_version": 0,
          "attributes": {
            "alarm_arns": [
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-redis-AlarmHigh-9f917e04-98b2-4e76-a362-98f4c36efc7c",
              "arn:aws:cloudwatch:us-east-1:339712838104:alarm:TargetTracking-service/bookingapp-cluster/bookingapp-redis-AlarmLow-308e1802-511e-4ecd-87db-a6d8aad2c5d0"
            ],
            "arn": "arn:aws:autoscaling:us-east-1:339712838104:scalingPolicy:e3847997-8d4c-4255-a9f6-d365a3b7f222:resource/ecs/service/bookingapp-cluster/bookingapp-redis:policyName/memory",
            "id": "memory",
            "name": "memory",
            "policy_type": "TargetTrackingScaling",
            "resource_id": "service/bookingapp-cluster/bookingapp-redis",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [],
            "target_tracking_scaling_policy_configuration": [
              {
                "customized_metric_specification": [],
                "disable_scale_in": false,
                "predefined_metric_specification": [
                  {
                    "predefined_metric_type": "ECSServiceAverageMemoryUtilization",
                    "resource_label": ""
                  }
                ],
                "scale_in_cooldown": 300,
                "scale_out_cooldown": 60,
                "target_value": 75
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_cloudwatch_log_group.service_bookingapp-redis_log_group",
            "aws_ecs_task_definition.bookingapp-redis",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-redis",
            "data.template_file.bookingapp-redis",
            "module.bookingapp-redis-sec.aws_security_group.this",
            "module.bookingapp-redis-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-redis.aws_appautoscaling_target.this",
            "module.bookingapp-redis.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-redis.aws_ecs_service.this",
            "module.bookingapp-redis.aws_ecs_task_definition.this",
            "module.bookingapp-redis.aws_iam_policy.service",
            "module.bookingapp-redis.aws_iam_policy.task_exec",
            "module.bookingapp-redis.aws_iam_role.service",
            "module.bookingapp-redis.aws_iam_role.task_exec",
            "module.bookingapp-redis.aws_iam_role.tasks",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.service",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-redis.aws_security_group.this",
            "module.bookingapp-redis.data.aws_caller_identity.current",
            "module.bookingapp-redis.data.aws_ecs_task_definition.this",
            "module.bookingapp-redis.data.aws_iam_policy_document.service",
            "module.bookingapp-redis.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-redis.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-redis.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-redis.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-redis.data.aws_partition.current",
            "module.bookingapp-redis.data.aws_region.current",
            "module.bookingapp-redis.data.aws_subnet.this",
            "module.bookingapp-redis.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-redis.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-redis",
      "mode": "managed",
      "type": "aws_appautoscaling_target",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:application-autoscaling:us-east-1:339712838104:scalable-target/0ec5e38479978d4c4255a9f6d365a3b7f222",
            "id": "service/bookingapp-cluster/bookingapp-redis",
            "max_capacity": 2,
            "min_capacity": 1,
            "resource_id": "service/bookingapp-cluster/bookingapp-redis",
            "role_arn": "arn:aws:iam::339712838104:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "tags": {
              "name": "ecs_service"
            },
            "tags_all": {
              "name": "ecs_service"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_cloudwatch_log_group.service_bookingapp-redis_log_group",
            "aws_ecs_task_definition.bookingapp-redis",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-redis",
            "data.template_file.bookingapp-redis",
            "module.bookingapp-redis-sec.aws_security_group.this",
            "module.bookingapp-redis-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-redis.aws_ecs_service.ignore_task_definition",
            "module.bookingapp-redis.aws_ecs_service.this",
            "module.bookingapp-redis.aws_ecs_task_definition.this",
            "module.bookingapp-redis.aws_iam_policy.service",
            "module.bookingapp-redis.aws_iam_policy.task_exec",
            "module.bookingapp-redis.aws_iam_role.service",
            "module.bookingapp-redis.aws_iam_role.task_exec",
            "module.bookingapp-redis.aws_iam_role.tasks",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.service",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-redis.aws_security_group.this",
            "module.bookingapp-redis.data.aws_caller_identity.current",
            "module.bookingapp-redis.data.aws_ecs_task_definition.this",
            "module.bookingapp-redis.data.aws_iam_policy_document.service",
            "module.bookingapp-redis.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-redis.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-redis.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-redis.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-redis.data.aws_partition.current",
            "module.bookingapp-redis.data.aws_region.current",
            "module.bookingapp-redis.data.aws_subnet.this",
            "module.bookingapp-redis.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-redis.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-redis",
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:us-east-1:339712838104:cluster/bookingapp-cluster",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 66,
            "desired_count": 1,
            "enable_ecs_managed_tags": true,
            "enable_execute_command": false,
            "force_new_deployment": true,
            "health_check_grace_period_seconds": 0,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:us-east-1:339712838104:service/bookingapp-cluster/bookingapp-redis",
            "launch_type": "FARGATE",
            "load_balancer": [],
            "name": "bookingapp-redis",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-04cff2552f6766171"
                ],
                "subnets": [
                  "subnet-03508af5e613f6e90",
                  "subnet-05e856183bcf990a2"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "NONE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:us-east-1:339712838104:service/srv-5bg3nggkc5mb6xpb"
              }
            ],
            "tags": {
              "ServiceTag": "Tag on service level",
              "name": "ecs_service"
            },
            "tags_all": {
              "ServiceTag": "Tag on service level",
              "name": "ecs_service"
            },
            "task_definition": "arn:aws:ecs:us-east-1:339712838104:task-definition/bookingapp-redis:23",
            "timeouts": {
              "create": null,
              "delete": null,
              "update": null
            },
            "triggers": {},
            "volume_configuration": [],
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_appmesh_mesh.bookingapp-mess",
            "aws_appmesh_virtual_node.bookingapp-redis",
            "aws_cloudwatch_log_group.service_bookingapp-redis_log_group",
            "aws_ecs_task_definition.bookingapp-redis",
            "aws_iam_role.ecs_task_execution_role",
            "aws_iam_role.ecs_task_role",
            "aws_service_discovery_private_dns_namespace.local_sd_dns",
            "aws_service_discovery_service.bookingapp-redis",
            "data.template_file.bookingapp-redis",
            "module.bookingapp-redis-sec.aws_security_group.this",
            "module.bookingapp-redis-sec.aws_security_group.this_name_prefix",
            "module.bookingapp-redis.aws_ecs_task_definition.this",
            "module.bookingapp-redis.aws_iam_policy.service",
            "module.bookingapp-redis.aws_iam_policy.task_exec",
            "module.bookingapp-redis.aws_iam_role.service",
            "module.bookingapp-redis.aws_iam_role.task_exec",
            "module.bookingapp-redis.aws_iam_role.tasks",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.service",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.task_exec",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.task_exec_additional",
            "module.bookingapp-redis.aws_iam_role_policy_attachment.tasks",
            "module.bookingapp-redis.aws_security_group.this",
            "module.bookingapp-redis.data.aws_caller_identity.current",
            "module.bookingapp-redis.data.aws_ecs_task_definition.this",
            "module.bookingapp-redis.data.aws_iam_policy_document.service",
            "module.bookingapp-redis.data.aws_iam_policy_document.service_assume",
            "module.bookingapp-redis.data.aws_iam_policy_document.task_exec",
            "module.bookingapp-redis.data.aws_iam_policy_document.task_exec_assume",
            "module.bookingapp-redis.data.aws_iam_policy_document.tasks_assume",
            "module.bookingapp-redis.data.aws_partition.current",
            "module.bookingapp-redis.data.aws_region.current",
            "module.bookingapp-redis.data.aws_subnet.this",
            "module.bookingapp-redis.module.container_definition.aws_cloudwatch_log_group.this",
            "module.bookingapp-redis.module.container_definition.data.aws_region.current",
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_cluster.this",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-redis-sec",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "this_name_prefix",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:security-group/sg-04cff2552f6766171",
            "description": "Security group which is used as an argument in complete-sg",
            "egress": [],
            "id": "sg-04cff2552f6766171",
            "ingress": [],
            "name": "ns-sg-2024060612045875140000000e",
            "name_prefix": "ns-sg-",
            "owner_id": "339712838104",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "ns-sg",
              "name": "notification Security Group"
            },
            "tags_all": {
              "Name": "ns-sg",
              "name": "notification Security Group"
            },
            "timeouts": {
              "create": "10m",
              "delete": "15m"
            },
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.bookingapp-redis-sec",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "egress_rules",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "All protocols",
            "from_port": -1,
            "id": "sgrule-230862710",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-04cff2552f6766171",
            "security_group_rule_id": "",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": -1,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.bookingapp-redis-sec.aws_security_group.this",
            "module.bookingapp-redis-sec.aws_security_group.this_name_prefix",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.bookingapp-redis-sec",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ingress_with_cidr_blocks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "10.0.0.0/16"
            ],
            "description": "allow usm for service discovery",
            "from_port": 6379,
            "id": "sgrule-1054865710",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-04cff2552f6766171",
            "security_group_rule_id": "sgr-0618b16b8dbea913d",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": 6379,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.bookingapp-redis-sec.aws_security_group.this",
            "module.bookingapp-redis-sec.aws_security_group.this_name_prefix",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_cluster",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:339712838104:log-group:/aws/ecs/bookingapp-cluster",
            "id": "/aws/ecs/bookingapp-cluster",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "/aws/ecs/bookingapp-cluster",
            "name_prefix": "",
            "retention_in_days": 90,
            "skip_destroy": false,
            "tags": {
              "name": "ecs-fargate-cluster"
            },
            "tags_all": {
              "name": "ecs-fargate-cluster"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.ecs_cluster",
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:339712838104:cluster/bookingapp-cluster",
            "configuration": [
              {
                "execute_command_configuration": [
                  {
                    "kms_key_id": "",
                    "log_configuration": [],
                    "logging": "DEFAULT"
                  }
                ]
              }
            ],
            "id": "arn:aws:ecs:us-east-1:339712838104:cluster/bookingapp-cluster",
            "name": "bookingapp-cluster",
            "service_connect_defaults": [],
            "setting": [
              {
                "name": "containerInsights",
                "value": "enabled"
              }
            ],
            "tags": {
              "name": "ecs-fargate-cluster"
            },
            "tags_all": {
              "name": "ecs-fargate-cluster"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ecs_cluster.aws_cloudwatch_log_group.this"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_cluster",
      "mode": "managed",
      "type": "aws_ecs_cluster_capacity_providers",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "capacity_providers": [
              "FARGATE"
            ],
            "cluster_name": "bookingapp-cluster",
            "default_capacity_provider_strategy": [
              {
                "base": 20,
                "capacity_provider": "FARGATE",
                "weight": 50
              }
            ],
            "id": "bookingapp-cluster"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ecs_cluster.aws_cloudwatch_log_group.this",
            "module.ecs_cluster.aws_ecs_capacity_provider.this",
            "module.ecs_cluster.aws_ecs_cluster.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_default_network_acl",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:network-acl/acl-090ced344a398329f",
            "default_network_acl_id": "acl-090ced344a398329f",
            "egress": [
              {
                "action": "allow",
                "cidr_block": "",
                "from_port": 0,
                "icmp_code": null,
                "icmp_type": null,
                "ipv6_cidr_block": "::/0",
                "protocol": "-1",
                "rule_no": 101,
                "to_port": 0
              },
              {
                "action": "allow",
                "cidr_block": "0.0.0.0/0",
                "from_port": 0,
                "icmp_code": null,
                "icmp_type": null,
                "ipv6_cidr_block": "",
                "protocol": "-1",
                "rule_no": 100,
                "to_port": 0
              }
            ],
            "id": "acl-090ced344a398329f",
            "ingress": [
              {
                "action": "allow",
                "cidr_block": "",
                "from_port": 0,
                "icmp_code": null,
                "icmp_type": null,
                "ipv6_cidr_block": "::/0",
                "protocol": "-1",
                "rule_no": 101,
                "to_port": 0
              },
              {
                "action": "allow",
                "cidr_block": "0.0.0.0/0",
                "from_port": 0,
                "icmp_code": null,
                "icmp_type": null,
                "ipv6_cidr_block": "",
                "protocol": "-1",
                "rule_no": 100,
                "to_port": 0
              }
            ],
            "owner_id": "339712838104",
            "subnet_ids": [
              "subnet-03508af5e613f6e90",
              "subnet-05e856183bcf990a2",
              "subnet-06ecdafd1b1f7a75d",
              "subnet-0ac7bd94e328708a8"
            ],
            "tags": {
              "Name": "VPC-ECS-default"
            },
            "tags_all": {
              "Name": "VPC-ECS-default"
            },
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_default_route_table",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:route-table/rtb-00acd284b2105136e",
            "default_route_table_id": "rtb-00acd284b2105136e",
            "id": "rtb-00acd284b2105136e",
            "owner_id": "339712838104",
            "propagating_vgws": null,
            "route": [],
            "tags": {
              "Name": "VPC-ECS-default"
            },
            "tags_all": {
              "Name": "VPC-ECS-default"
            },
            "timeouts": {
              "create": "5m",
              "update": "5m"
            },
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_default_security_group",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:security-group/sg-03048c8d77b72f1f4",
            "description": "default VPC security group",
            "egress": [],
            "id": "sg-03048c8d77b72f1f4",
            "ingress": [],
            "name": "default",
            "name_prefix": "",
            "owner_id": "339712838104",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "VPC-ECS-default"
            },
            "tags_all": {
              "Name": "VPC-ECS-default"
            },
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-04a551eb59380e4df",
            "arn": "arn:aws:ec2:us-east-1:339712838104:elastic-ip/eipalloc-04a551eb59380e4df",
            "associate_with_private_ip": null,
            "association_id": "",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-04a551eb59380e4df",
            "instance": "",
            "network_border_group": "us-east-1",
            "network_interface": "",
            "private_dns": null,
            "private_ip": "",
            "ptr_record": "",
            "public_dns": "ec2-44-222-4-199.compute-1.amazonaws.com",
            "public_ip": "44.222.4.199",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Name": "VPC-ECS-us-east-1a"
            },
            "tags_all": {
              "Name": "VPC-ECS-us-east-1a"
            },
            "timeouts": null,
            "vpc": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-0b2095a2cd591a168",
            "arn": "arn:aws:ec2:us-east-1:339712838104:elastic-ip/eipalloc-0b2095a2cd591a168",
            "associate_with_private_ip": null,
            "association_id": "",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0b2095a2cd591a168",
            "instance": "",
            "network_border_group": "us-east-1",
            "network_interface": "",
            "private_dns": null,
            "private_ip": "",
            "ptr_record": "",
            "public_dns": "ec2-54-198-126-88.compute-1.amazonaws.com",
            "public_ip": "54.198.126.88",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Name": "VPC-ECS-us-east-1b"
            },
            "tags_all": {
              "Name": "VPC-ECS-us-east-1b"
            },
            "timeouts": null,
            "vpc": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:internet-gateway/igw-07fe9375cf6b80757",
            "id": "igw-07fe9375cf6b80757",
            "owner_id": "339712838104",
            "tags": {
              "Name": "VPC-ECS"
            },
            "tags_all": {
              "Name": "VPC-ECS"
            },
            "timeouts": null,
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-04a551eb59380e4df",
            "association_id": "eipassoc-01d0e500198eb1800",
            "connectivity_type": "public",
            "id": "nat-003f083c36835f278",
            "network_interface_id": "eni-0debdabd19ea786f8",
            "private_ip": "10.0.101.89",
            "public_ip": "44.222.4.199",
            "secondary_allocation_ids": null,
            "secondary_private_ip_address_count": 0,
            "secondary_private_ip_addresses": [],
            "subnet_id": "subnet-0ac7bd94e328708a8",
            "tags": {
              "Name": "VPC-ECS-us-east-1a"
            },
            "tags_all": {
              "Name": "VPC-ECS-us-east-1a"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0b2095a2cd591a168",
            "association_id": "eipassoc-0d01794aed2dd57c0",
            "connectivity_type": "public",
            "id": "nat-0611a2fe344e1cf54",
            "network_interface_id": "eni-0939e21b350097623",
            "private_ip": "10.0.102.224",
            "public_ip": "54.198.126.88",
            "secondary_allocation_ids": null,
            "secondary_private_ip_address_count": 0,
            "secondary_private_ip_addresses": [],
            "subnet_id": "subnet-06ecdafd1b1f7a75d",
            "tags": {
              "Name": "VPC-ECS-us-east-1b"
            },
            "tags_all": {
              "Name": "VPC-ECS-us-east-1b"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "private_nat_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "core_network_arn": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-0984949fda6d555681080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "nat-003f083c36835f278",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0984949fda6d55568",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "core_network_arn": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-0efa4c1093425bf731080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "nat-0611a2fe344e1cf54",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0efa4c1093425bf73",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "public_internet_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "core_network_arn": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "igw-07fe9375cf6b80757",
            "id": "r-rtb-0ecff67f122f785281080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0ecff67f122f78528",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:route-table/rtb-0984949fda6d55568",
            "id": "rtb-0984949fda6d55568",
            "owner_id": "339712838104",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Name": "VPC-ECS-private-us-east-1a"
            },
            "tags_all": {
              "Name": "VPC-ECS-private-us-east-1a"
            },
            "timeouts": null,
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:route-table/rtb-0efa4c1093425bf73",
            "id": "rtb-0efa4c1093425bf73",
            "owner_id": "339712838104",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Name": "VPC-ECS-private-us-east-1b"
            },
            "tags_all": {
              "Name": "VPC-ECS-private-us-east-1b"
            },
            "timeouts": null,
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:route-table/rtb-0ecff67f122f78528",
            "id": "rtb-0ecff67f122f78528",
            "owner_id": "339712838104",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Name": "VPC-ECS-public"
            },
            "tags_all": {
              "Name": "VPC-ECS-public"
            },
            "timeouts": null,
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0f56b446a4c35b150",
            "route_table_id": "rtb-0984949fda6d55568",
            "subnet_id": "subnet-05e856183bcf990a2",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-096a4ccdfe1089b4a",
            "route_table_id": "rtb-0efa4c1093425bf73",
            "subnet_id": "subnet-03508af5e613f6e90",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-050b5b8c23149e3a8",
            "route_table_id": "rtb-0ecff67f122f78528",
            "subnet_id": "subnet-0ac7bd94e328708a8",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-016f5a37135a28d8c",
            "route_table_id": "rtb-0ecff67f122f78528",
            "subnet_id": "subnet-06ecdafd1b1f7a75d",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:subnet/subnet-05e856183bcf990a2",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1a",
            "availability_zone_id": "use1-az4",
            "cidr_block": "10.0.1.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-05e856183bcf990a2",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "339712838104",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "VPC-ECS-private-us-east-1a",
              "Type": "Private Subnets"
            },
            "tags_all": {
              "Name": "VPC-ECS-private-us-east-1a",
              "Type": "Private Subnets"
            },
            "timeouts": null,
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:subnet/subnet-03508af5e613f6e90",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1b",
            "availability_zone_id": "use1-az6",
            "cidr_block": "10.0.2.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-03508af5e613f6e90",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "339712838104",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "VPC-ECS-private-us-east-1b",
              "Type": "Private Subnets"
            },
            "tags_all": {
              "Name": "VPC-ECS-private-us-east-1b",
              "Type": "Private Subnets"
            },
            "timeouts": null,
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:subnet/subnet-0ac7bd94e328708a8",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1a",
            "availability_zone_id": "use1-az4",
            "cidr_block": "10.0.101.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0ac7bd94e328708a8",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "339712838104",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "VPC-ECS-public-us-east-1a",
              "Type": "Public Subnets"
            },
            "tags_all": {
              "Name": "VPC-ECS-public-us-east-1a",
              "Type": "Public Subnets"
            },
            "timeouts": null,
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:subnet/subnet-06ecdafd1b1f7a75d",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1b",
            "availability_zone_id": "use1-az6",
            "cidr_block": "10.0.102.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-06ecdafd1b1f7a75d",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "339712838104",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "VPC-ECS-public-us-east-1b",
              "Type": "Public Subnets"
            },
            "tags_all": {
              "Name": "VPC-ECS-public-us-east-1b",
              "Type": "Public Subnets"
            },
            "timeouts": null,
            "vpc_id": "vpc-021db5b72276d098e"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:339712838104:vpc/vpc-021db5b72276d098e",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.0.0.0/16",
            "default_network_acl_id": "acl-090ced344a398329f",
            "default_route_table_id": "rtb-00acd284b2105136e",
            "default_security_group_id": "sg-03048c8d77b72f1f4",
            "dhcp_options_id": "dopt-08a726ac35ffadb43",
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "enable_network_address_usage_metrics": false,
            "id": "vpc-021db5b72276d098e",
            "instance_tenancy": "default",
            "ipv4_ipam_pool_id": null,
            "ipv4_netmask_length": null,
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_network_border_group": "",
            "ipv6_ipam_pool_id": "",
            "ipv6_netmask_length": 0,
            "main_route_table_id": "rtb-00acd284b2105136e",
            "owner_id": "339712838104",
            "tags": {
              "Name": "VPC-ECS"
            },
            "tags_all": {
              "Name": "VPC-ECS"
            }
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "create_before_destroy": true
        }
      ]
    }
  ],
  "check_results": null
}
